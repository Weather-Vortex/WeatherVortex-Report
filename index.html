<!DOCTYPE html>
<html  lang="it"  dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title><p>Weather Vortex</p></title>
        <link rel="shortcut icon" type="image/png" href="favicon.png">
        <link rel="apple-touch-icon-precomposed" href="apple-touch-icon.png">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.26.4/css/uikit.gradient.css">

        <link rel="stylesheet" href="style.css">
        <link href="https://vjs.zencdn.net/5.4.4/video-js.css" rel="stylesheet" />
        <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
        <script src="./pandoc-uikit/uikit.js"></script>
        <script src="./pandoc-uikit/scripts.js"></script>
        <script src="./pandoc-uikit/jquery.sticky-kit.js"></script>

        <meta name="generator" content="pandoc-uikit" />
                <meta name="author" content="Zandoli Silvia 0000950299 silvia.zandoli2@studio.unibo.it" />
                <meta name="author" content="Tentoni Daniele 0000925471 daniele.tentoni2@studio.unibo.it" />
                <meta name="author" content="Lirussi Igor 0000949711 igor.lirussi@studio.unibo.it   " />
                        <meta name="date" content="2023-01-09" />
                <title>Weather Vortex</title>
        <style type="text/css">code{white-space: pre;}</style>
                        <style type="text/css">
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            .sourceCode { overflow: visible; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {  background-color: #f8f8f8; }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ef2929; } /* Alert */
            code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #c4a000; } /* Attribute */
            code span.bn { color: #0000cf; } /* BaseN */
            code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4e9a06; } /* Char */
            code span.cn { color: #000000; } /* Constant */
            code span.co { color: #8f5902; font-style: italic; } /* Comment */
            code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
            code span.dt { color: #204a87; } /* DataType */
            code span.dv { color: #0000cf; } /* DecVal */
            code span.er { color: #a40000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #0000cf; } /* Float */
            code span.fu { color: #000000; } /* Function */
            code span.im { } /* Import */
            code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
            code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
            code span.ot { color: #8f5902; } /* Other */
            code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
            code span.sc { color: #000000; } /* SpecialChar */
            code span.ss { color: #4e9a06; } /* SpecialString */
            code span.st { color: #4e9a06; } /* String */
            code span.va { color: #000000; } /* Variable */
            code span.vs { color: #4e9a06; } /* VerbatimString */
            code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
        </style>
                        <link rel="stylesheet" href="./pandoc-uikit/uikit.css" />
                                             
    </head>

    <body>


        <div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">

                        <div class="uk-grid" data-uk-grid-margin>
                <div class="uk-width-1-1">
                    <h1 class="uk-heading"><p>Weather Vortex</p></h1>
                                        <h1 class="uk-heading" style="margin:0">2023-01-09</h1>
                                                            <p class="uk-text-large">Zandoli
Silvia<br />
0000950299<br />
<a
href="mailto:silvia.zandoli2@studio.unibo.it"><code>silvia.zandoli2@studio.unibo.it</code></a></p>
                                        <p class="uk-text-large">Tentoni
Daniele<br />
0000925471<br />
<a
href="mailto:daniele.tentoni2@studio.unibo.it"><code>daniele.tentoni2@studio.unibo.it</code></a></p>
                                        <p class="uk-text-large">Lirussi
Igor<br />
0000949711<br />
<a
href="mailto:igor.lirussi@studio.unibo.it"><code>igor.lirussi@studio.unibo.it</code></a><br />
<br />
<br /></p>
                                    </div>
            </div>
            
            <div class="uk-grid" data-uk-grid-margin >          
                <div class="uk-width-medium-1-4">
                    <div class="uk-overflow-container" data-uk-sticky="{top:25,media: 768}">
                        <div class="uk-panel uk-panel-box menu-begin" >

                                                        <ul>
                                                        <li><a
                                                        href="#foointroduzione"
                                                        id="footoc-introduzione"><span
                                                        class="toc-section-number">1</span>
                                                        Introduzione</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foooverview"
                                                        id="footoc-overview"><span
                                                        class="toc-section-number">1.1</span>
                                                        Overview</a></li>
                                                        <li><a
                                                        href="#fooproblemi"
                                                        id="footoc-problemi"><span
                                                        class="toc-section-number">1.2</span>
                                                        Problemi</a></li>
                                                        <li><a
                                                        href="#fooobiettivi"
                                                        id="footoc-obiettivi"><span
                                                        class="toc-section-number">1.3</span>
                                                        Obiettivi</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foostato-dellarte"
                                                        id="footoc-stato-dellarte"><span
                                                        class="toc-section-number">2</span>
                                                        Stato
                                                        dell&#x2019;Arte</a></li>
                                                        <li><a
                                                        href="#fooprocesso-di-sviluppo"
                                                        id="footoc-processo-di-sviluppo"><span
                                                        class="toc-section-number">3</span>
                                                        Processo di
                                                        Sviluppo</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foometodologia-di-sviluppo"
                                                        id="footoc-metodologia-di-sviluppo"><span
                                                        class="toc-section-number">3.1</span>
                                                        Metodologia di
                                                        Sviluppo</a></li>
                                                        <li><a
                                                        href="#foogestione-di-progetto"
                                                        id="footoc-gestione-di-progetto"><span
                                                        class="toc-section-number">3.2</span>
                                                        Gestione di
                                                        Progetto</a></li>
                                                        <li><a
                                                        href="#foochap:CI"
                                                        id="footoc-chap:CI"><span
                                                        class="toc-section-number">3.3</span>
                                                        Continuous Integration
                                                        e Automatizzazione</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foorelazione-di-progetto"
                                                        id="footoc-relazione-di-progetto"><span
                                                        class="toc-section-number">3.3.1</span>
                                                        Relazione di
                                                        Progetto</a></li>
                                                        <li><a
                                                        href="#fooprogetto"
                                                        id="footoc-progetto"><span
                                                        class="toc-section-number">3.3.2</span>
                                                        Progetto</a></li>
                                                        </ul></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#fooanalisi-dei-requisiti"
                                                        id="footoc-analisi-dei-requisiti"><span
                                                        class="toc-section-number">4</span>
                                                        Analisi dei
                                                        Requisiti</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foorequisiti-di-business"
                                                        id="footoc-requisiti-di-business"><span
                                                        class="toc-section-number">4.1</span>
                                                        Requisiti di
                                                        Business</a></li>
                                                        <li><a
                                                        href="#foorequisiti-utente"
                                                        id="footoc-requisiti-utente"><span
                                                        class="toc-section-number">4.2</span>
                                                        Requisiti Utente</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foouser-stories"
                                                        id="footoc-user-stories"><span
                                                        class="toc-section-number">4.2.1</span>
                                                        User stories</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foorequisiti-funzionali"
                                                        id="footoc-requisiti-funzionali"><span
                                                        class="toc-section-number">4.3</span>
                                                        Requisiti
                                                        Funzionali</a>
                                                        <ul>
                                                        <li><a
                                                        href="#fooapplicativo-web"
                                                        id="footoc-applicativo-web"><span
                                                        class="toc-section-number">4.3.1</span>
                                                        Applicativo
                                                        web</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foorequisiti-non-funzionali"
                                                        id="footoc-requisiti-non-funzionali"><span
                                                        class="toc-section-number">4.4</span>
                                                        Requisiti non
                                                        Funzionali</a></li>
                                                        <li><a
                                                        href="#foorequisiti-implementativi"
                                                        id="footoc-requisiti-implementativi"><span
                                                        class="toc-section-number">4.5</span>
                                                        Requisiti
                                                        Implementativi</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foometodologie-e-tecnologie-utilizzate"
                                                        id="footoc-metodologie-e-tecnologie-utilizzate"><span
                                                        class="toc-section-number">4.5.1</span>
                                                        Metodologie e
                                                        Tecnologie
                                                        Utilizzate</a></li>
                                                        </ul></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foodesign-architetturale"
                                                        id="footoc-design-architetturale"><span
                                                        class="toc-section-number">5</span>
                                                        Design
                                                        Architetturale</a>
                                                        <ul>
                                                        <li><a
                                                        href="#fooarchitettura-generale"
                                                        id="footoc-architettura-generale"><span
                                                        class="toc-section-number">5.1</span>
                                                        Architettura
                                                        Generale</a></li>
                                                        <li><a
                                                        href="#fooscelte-tecnologiche-cruciali"
                                                        id="footoc-scelte-tecnologiche-cruciali"><span
                                                        class="toc-section-number">5.2</span>
                                                        Scelte Tecnologiche
                                                        Cruciali</a></li>
                                                        <li><a
                                                        href="#foopattern-architetturali-utilizzati"
                                                        id="footoc-pattern-architetturali-utilizzati"><span
                                                        class="toc-section-number">5.3</span>
                                                        Pattern Architetturali
                                                        Utilizzati</a>
                                                        <ul>
                                                        <li><a
                                                        href="#fooclient-server"
                                                        id="footoc-client-server"><span
                                                        class="toc-section-number">5.3.1</span>
                                                        Client-Server</a></li>
                                                        </ul></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foodesign-di-dettaglio"
                                                        id="footoc-design-di-dettaglio"><span
                                                        class="toc-section-number">6</span>
                                                        Design di
                                                        Dettaglio</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foofrontend"
                                                        id="footoc-frontend"><span
                                                        class="toc-section-number">6.1</span>
                                                        Frontend</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foointerfacce-utente"
                                                        id="footoc-interfacce-utente"><span
                                                        class="toc-section-number">6.1.1</span>
                                                        Interfacce
                                                        utente</a></li>
                                                        <li><a
                                                        href="#foocomponenti"
                                                        id="footoc-componenti"><span
                                                        class="toc-section-number">6.1.2</span>
                                                        Componenti</a></li>
                                                        <li><a
                                                        href="#foovue-router"
                                                        id="footoc-vue-router"><span
                                                        class="toc-section-number">6.1.3</span>
                                                        Vue-Router</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foobackend"
                                                        id="footoc-backend"><span
                                                        class="toc-section-number">6.2</span>
                                                        Backend</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foomodelli"
                                                        id="footoc-modelli"><span
                                                        class="toc-section-number">6.2.1</span>
                                                        Modelli</a></li>
                                                        <li><a
                                                        href="#foostorage"
                                                        id="footoc-storage"><span
                                                        class="toc-section-number">6.2.2</span>
                                                        Storage</a></li>
                                                        <li><a
                                                        href="#foocontrollers"
                                                        id="footoc-controllers"><span
                                                        class="toc-section-number">6.2.3</span>
                                                        Controllers</a></li>
                                                        <li><a
                                                        href="#fooroutes"
                                                        id="footoc-routes"><span
                                                        class="toc-section-number">6.2.4</span>
                                                        Routes</a></li>
                                                        </ul></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#fooimplementazione"
                                                        id="footoc-implementazione"><span
                                                        class="toc-section-number">7</span>
                                                        Implementazione</a>
                                                        <ul>
                                                        <li><a
                                                        href="#fooserver"
                                                        id="footoc-server"><span
                                                        class="toc-section-number">7.1</span>
                                                        Server</a>
                                                        <ul>
                                                        <li><a
                                                        href="#fooforecast-e-socket.io"
                                                        id="footoc-forecast-e-socket.io"><span
                                                        class="toc-section-number">7.1.1</span>
                                                        Forecast e
                                                        Socket.IO</a></li>
                                                        <li><a
                                                        href="#fooautenticazione"
                                                        id="footoc-autenticazione"><span
                                                        class="toc-section-number">7.1.2</span>
                                                        Autenticazione</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#fooclient"
                                                        id="footoc-client"><span
                                                        class="toc-section-number">7.2</span>
                                                        Client</a></li>
                                                        <li><a
                                                        href="#foocentralina"
                                                        id="footoc-centralina"><span
                                                        class="toc-section-number">7.3</span>
                                                        Centralina</a></li>
                                                        <li><a
                                                        href="#fooprodottofinale"
                                                        id="footoc-prodottofinale"><span
                                                        class="toc-section-number">7.4</span>
                                                        Prodotto
                                                        Finale</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#footesting-e-performance"
                                                        id="footoc-testing-e-performance"><span
                                                        class="toc-section-number">8</span>
                                                        Testing e
                                                        Performance</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foounit-test"
                                                        id="footoc-unit-test"><span
                                                        class="toc-section-number">8.1</span>
                                                        Unit Test</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foobackend-1"
                                                        id="footoc-backend-1"><span
                                                        class="toc-section-number">8.1.1</span>
                                                        Backend</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foouser-assurance-test"
                                                        id="footoc-user-assurance-test"><span
                                                        class="toc-section-number">8.2</span>
                                                        User Assurance
                                                        Test</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foodeployment"
                                                        id="footoc-deployment"><span
                                                        class="toc-section-number">9</span>
                                                        Deployment</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foogithub-pages-e-heroku"
                                                        id="footoc-github-pages-e-heroku"><span
                                                        class="toc-section-number">9.1</span>
                                                        Github pages e
                                                        Heroku</a>
                                                        <ul>
                                                        <li><a
                                                        href="#fooproblematiche-riscontrate"
                                                        id="footoc-problematiche-riscontrate"><span
                                                        class="toc-section-number">9.1.1</span>
                                                        Problematiche
                                                        riscontrate</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foodocker-e-compose"
                                                        id="footoc-docker-e-compose"><span
                                                        class="toc-section-number">9.2</span>
                                                        Docker e
                                                        Compose</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foopiano-di-lavoro"
                                                        id="footoc-piano-di-lavoro"><span
                                                        class="toc-section-number">10</span>
                                                        Piano di lavoro</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foosprints"
                                                        id="footoc-sprints"><span
                                                        class="toc-section-number">10.1</span>
                                                        Sprints</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foosvolgimento"
                                                        id="footoc-svolgimento"><span
                                                        class="toc-section-number">10.1.1</span>
                                                        Svolgimento</a></li>
                                                        <li><a
                                                        href="#foosprint-0"
                                                        id="footoc-sprint-0"><span
                                                        class="toc-section-number">10.1.2</span>
                                                        Sprint 0</a></li>
                                                        <li><a
                                                        href="#foosprint-1"
                                                        id="footoc-sprint-1"><span
                                                        class="toc-section-number">10.1.3</span>
                                                        Sprint 1</a></li>
                                                        <li><a
                                                        href="#foosprint-2"
                                                        id="footoc-sprint-2"><span
                                                        class="toc-section-number">10.1.4</span>
                                                        Sprint 2</a></li>
                                                        <li><a
                                                        href="#foosprint-3"
                                                        id="footoc-sprint-3"><span
                                                        class="toc-section-number">10.1.5</span>
                                                        Sprint 3</a></li>
                                                        <li><a
                                                        href="#foosprint-4"
                                                        id="footoc-sprint-4"><span
                                                        class="toc-section-number">10.1.6</span>
                                                        Sprint 4</a></li>
                                                        <li><a
                                                        href="#foosprint-5"
                                                        id="footoc-sprint-5"><span
                                                        class="toc-section-number">10.1.7</span>
                                                        Sprint 5</a></li>
                                                        </ul></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#fooconclusioni"
                                                        id="footoc-conclusioni"><span
                                                        class="toc-section-number">11</span>
                                                        Conclusioni</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foocommenti-finali"
                                                        id="footoc-commenti-finali"><span
                                                        class="toc-section-number">11.1</span>
                                                        Commenti Finali</a>
                                                        <ul>
                                                        <li><a
                                                        href="#foodaniele-tentoni"
                                                        id="footoc-daniele-tentoni"><span
                                                        class="toc-section-number">11.1.1</span>
                                                        Daniele
                                                        Tentoni</a></li>
                                                        <li><a
                                                        href="#foosilvia-zandoli"
                                                        id="footoc-silvia-zandoli"><span
                                                        class="toc-section-number">11.1.2</span>
                                                        Silvia
                                                        Zandoli</a></li>
                                                        <li><a
                                                        href="#fooigor-lirussi"
                                                        id="footoc-igor-lirussi"><span
                                                        class="toc-section-number">11.1.3</span>
                                                        Igor Lirussi</a></li>
                                                        </ul></li>
                                                        <li><a
                                                        href="#foosviluppi-futuri"
                                                        id="footoc-sviluppi-futuri"><span
                                                        class="toc-section-number">11.2</span>
                                                        Sviluppi
                                                        Futuri</a></li>
                                                        </ul></li>
                                                        </ul>
                            
                        </div>
                    </div>
                </div>

                <div class="uk-width-medium-3-4">
<section id="foointroduzione" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span>
Introduzione</h1>
<section id="foooverview" class="level2" data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span>
Overview</h2>
<p>Weather Vortex &#xE8; un progetto che nasce con l&#x2019;intento di fornire all&#x2019;utente
un servizio per consultare e paragonare diverse previsioni meteo senza dover
necessariamente navigare in diversi portali o siti dedicati. L&#x2019;obbiettivo
verr&#xE0; raggiunto mediante la creazione di una <strong>piattaforma web</strong>
che possa, da un lato, <strong>facilitare le decisioni dell&#x2019;utente</strong>,
dall&#x2019;altro <strong>fornire un&#x2019;esperienza personalizzata</strong>.</p>
<figure>
<img src="Images/logo.png" id="foofig:Logo" style="width:50.0%"
alt="Il logo della piattaforma" />
<figcaption aria-hidden="true">Il logo della piattaforma</figcaption>
</figure>
</section>
<section id="fooproblemi" class="level2" data-number="1.2">
<h2 data-number="1.2"><span class="header-section-number">1.2</span>
Problemi</h2>
<p>Normalmente un utente consulta in media 3 / 4 siti meteo ogni volta che
vuole farsi un&#x2019;idea precisa delle previsioni del tempo. Questo comporta un
dispendio di tempo e risorse nel consultare pi&#xF9; fonti, quando un aggregatore
potrebbe fare tutto in automatico.</p>
<p>Talvolta un utente appassionato potrebbe progettare una propria centralina
meteo da collocare in un punto preciso dove gli interessa maggiormente essere
informato delle condizioni meteo della zona.</p>
<p>I principali problemi che vengono attualmente riscontrati sono i
seguenti:</p>
<ul>
<li><p><strong>Diverse Fonti:</strong> l&#x2019;utente deve consultare pi&#xF9; fonti, non
fidandosi di un singolo parere, dato che generalmente non tutti i siti
dedicati concordano sui risultati.</p></li>
<li><p><strong>Affidabilit&#xE0;:</strong> l&#x2019;utente deve tenere a mente
l&#x2019;affidabilit&#xE0; dei singoli siti e/o valutarli approssimativamente sulla base
delle proprie esperienze pregresse con gli stessi.</p></li>
<li><p><strong>Personalizzazione:</strong> l&#x2019;utente non ha possibilit&#xE0; nei
siti pi&#xF9; famosi di impostare una propria centralina meteo a cui chiedere
informazioni sul meteo della zona da accompagnare alle previsioni
tradizionali.</p></li>
</ul>
</section>
<section id="fooobiettivi" class="level2" data-number="1.3">
<h2 data-number="1.3"><span class="header-section-number">1.3</span>
Obiettivi</h2>
<p>L&#x2019;obiettivo consiste nel fornire all&#x2019;utente un servizio per la
consultazione delle previsioni meteo che risolva o quanto meno attenui i
disagi o lo stress causato dai problemi sopra descritti.</p>
<p>Nello specifico si vogliono incontrare le esigenze di chi ne fruisce,
agevolando le operazioni di:</p>
<ul>
<li><p><strong>Osservazione delle condizioni meteo</strong>, sia attuali che
fino a 3 giorni, per una determinata localit&#xE0;.</p></li>
<li><p><strong>Registrazione di un account</strong>, permettendo il
salvataggio di preferenze su una determinata localit&#xE0; di cui ricevere le
previsioni tutti i giorni sui canali di comunicazione preferiti</p></li>
<li><p><strong>Assegnazione di feedbacks</strong> ai vari provider meteo
lasciando un voto sulla precisione e correttezza delle previsioni
emanate.</p></li>
<li><p><strong>Registrazione di una centralina</strong> che permetta di avere
dati personalizzati per tutti i fruitori del sito, per affinare le previsioni
emanate dagli altri servizi meteo o per ricevere previsioni accurate su una
specifica zona.</p></li>
</ul>
</section>
</section>
<section id="foostato-dellarte" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Stato
dell&#x2019;Arte</h1>
<p>Il topic scelto in letteratura ha ricevuto molte attenzioni per via della
stessa natura delle previsioni meteo, fortemente legate al machine learning.
Tuttavia per quanto riguarda l&#x2019;aggregazione di esse non risultano presenti
particolari ricerche.</p>
<p>Dalle informazioni che abbiamo raccolto su studi e applicazioni di idee
similari alla nostra &#xE8; emerso quanto segue:</p>
<ul>
<li><p><strong>Aggregazione</strong>: sono presenti alcuni siti similari ma
offrono funzionalit&#xE0; molto limitate, &#xE8; possibile vedere solo le previsioni
odierne e non permettono di scegliere quanta fiducia dare ai diversi
servizi.</p>
<ul>
<li><p>Il servizio <a href="https://www.metaweather.com/it/">Metaweather</a>
fornisce un&#x2019;aggregazione di dati molto simile a quella che vogliamo ottenere
con il nostro progetto, ma la visualizzazione delle recensioni dei servizi
meteo non &#xE8; pubblica e non viene data la possibilit&#xE0; di aggiungere centraline
meteo.</p></li>
<li><p>Google sta progettando con successo una Deep Neural Network per predire
pi&#xF9; efficacemente le condizioni meteo combinando esclusivamente i dati delle
previsioni meteo negli anni passati. Applicando poi questi algoritmi alle
previsioni delle ultime ore o giorni, senza alcuna conoscenza dei modelli
fisici adottati fino adesso per la previsione delle condizioni meteo, &#xE8; in
grado di determinare talvolta con estrema accuratezza le condizioni future
fino a 8 ore: <a
href="https://neurohive.io/en/news/google-s-deep-neural-network-makes-detailed-weather-forecasts/">Google&#x2019;s
Deep Neural Network</a>.</p></li>
</ul></li>
<li><p><strong>Personalizzazione</strong>: non sono presenti siti, se non
prototipali, che permettano di registrare una centralina personale da
aggiungere alle fonti per le previsioni.</p>
<p>In genere gli appassionati adottano delle soluzioni pensate appositamente
per le proprie centraline, che non comunicano con altri dispositivi di altri
appassionati oppure con servizi meteo esistenti. Talvolta potrebbero esserci
progetti che raccolgono dati da diverse centraline, ma ci&#xF2; &#xE8; mirato a produrre
un&#x2019;unica previsione meteo incrociando i dati dalle fonti. Viene perso il
riferimento ad ogni centralina e i suoi dati, producendo una previsione meteo
unica per tutta la zona.</p></li>
</ul>
</section>
<section id="fooprocesso-di-sviluppo" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Processo di
Sviluppo</h1>
<section id="foometodologia-di-sviluppo" class="level2" data-number="3.1">
<h2 data-number="3.1"><span class="header-section-number">3.1</span>
Metodologia di Sviluppo</h2>
<p>Prima di iniziare a lavorare &#xE8; stato fondamentale accordarsi su come
affrontare in gruppo un progetto intrinsecamente complesso come questo. Si &#xE8;
pensato subito di utilizzare una metodologia agile, per evitare confusioni e
lavorare efficientemente in team. Si &#xE8; optato quindi per la metodologia
Scrum.</p>
<p>Scrum &#xE8; una metodologia agile, incrementale e iterativa per lo sviluppo di
prodotti, applicazioni e servizi. E&#x2019; una modalit&#xE0; strutturata e
pianificata.<br />
Scrum si basa sull&#x2019;empirismo, ovvero sul concetto che la conoscenza derivi
dall&#x2019;esperienza e che le decisioni vadano prese alla luce di ci&#xF2; che si
conosce. I tre pilastri che sostengono l&#x2019;empirismo sono: trasparenza,
ispezione e adattamento.<br />
Ovvero, tutti gli aspetti del lavoro devono essere visibili ai responsabili
del risultato finale (trasparenza). Per rendere trasparenti questi elementi,
il Team Scrum ispeziona di frequente il prodotto mentre lo sta sviluppando
(ispezione). Cos&#xEC; il processo e il prodotto possono essere adattati
immediatamente nel caso di nuove esigenze o di condizioni mutate del mercato
(adattamento).<br />
Perch&#xE8; questo &#xE8; il senso di Scrum, far lavorare tutto il team insieme, in modo
coordinato e organizzato.<br />
Come tutte le metodologie Agile, si basa sulla divisione del progetto in pi&#xF9;
fasi, chiamate Sprint.<br />
Ad ogni Sprint il gruppo di lavoro presenta nuove funzionalit&#xE0;, operative e
implementabili. Si configura cos&#xEC; un sistema iterativo che consente di
incrementare poco alla volta, ma molto di frequente, le funzionalit&#xE0; del
progetto, verificando costantemente allo stesso tempo l&#x2019;andamento
complessivo.</p>
<p>Siamo sempre stati fedeli nell&#x2019;utilizzare tale metodologia, ma durante il
progetto spesso &#xE8; stata cambiata la durata degli Sprint, per il semplice fatto
che per vari motivi non si riusciva a portare a termine i compiti assegnati
entro la settimana. Ognuno dei vari Sprint ha quindi avuto una durata di
svolgimento variabile. Il risultato &#xE8; stato sicuramente l&#x2019;allungamento dei
tempi nella realizzazione del progetto, ma non abbiamo mai smesso di seguire
tale metodo di lavoro e di confrontarci.</p>
</section>
<section id="foogestione-di-progetto" class="level2" data-number="3.2">
<h2 data-number="3.2"><span class="header-section-number">3.2</span> Gestione
di Progetto</h2>
<p>In questa sezione viene dettagliatamente spiegato come il progetto &#xE8; stato
organizzato.</p>
<section id="fooorganizzazione" class="level5" data-number="3.2.0.0.1">
<h5 data-number="3.2.0.0.1"><span
class="header-section-number">3.2.0.0.1</span> Organizzazione: </h5>
<p>A inizio progetto sono stati stilati insieme i primi requisiti di business
e funzionali, sono state delineate le prime user stories, ragionando sui
problemi che avrebbe dovuto affrontare tale tipologia di lavoro. Si &#xE8; deciso
di suddividere il lavoro in Sprint, ognuno con durata teorica di una
settimana. Ad ogni Sprint corrispondevano diverse attivit&#xE0;, anche chiamate
issue. Tale tempistica, come accennato sopra, poi non &#xE8; sempre stata
rispettata. Spesso si sono riscontrati problemi durante lo svolgimento di un
task e i tempi si sono allungati.<br />
All&#x2019;interno del team Daniele Tentoni &#xE8; stato sicuramente colui che ha svolto
il ruolo dello Scrum Master oltre a far parte del gruppo di sviluppo: egli ha
guidato il team per facilitare lo sviluppo di software funzionante,
assicurando anche la corretta applicazione dei processi scrum.<br />
Lo Sprint con le varie attivit&#xE0; da svolgere veniva stilato solitamente durante
gli incontri, e le decisioni su cosa fare venivano prese collegialmente. Il
Product Backlog &#xE8; stato quindi fatto insieme.<br />
Si &#xE8; proceduto in questo modo: si &#xE8; iniziato a produrre la parte Server e, una
volta sviluppate le principali funzionalit&#xE0; di quest&#x2019;ultimo con i relativi
test, si &#xE8; poi passati a curare la parte client e la parte grafica. Nel
frattempo si &#xE8; anche iniziata a collegare la parte backend con quella
frontend.<br />
Ognuno era delegato al testing e agli User Acceptance Test sulla propria parte
di codice prodotta,i test sono interni al progetto.</p>
</section>
<section id="foogantt-chart" class="level5" data-number="3.2.0.0.2">
<h5 data-number="3.2.0.0.2"><span
class="header-section-number">3.2.0.0.2</span> Gantt Chart: </h5>
<p>A partire da inizio progetto si &#xE8; stilato un diagramma di Gantt, uno
strumento utile per la pianificazione dei progetti. Il diagramma ha aiutato a
mantenere la costanza e un ritmo nel progetto molto pi&#xF9; serrato. Nel capitolo
relativo agli sprint, in [Fig. <a href="#foofig:Gantt"
data-reference-type="ref" data-reference="fig:Gantt">10.1</a>] si riporta il
diagramma di Gantt risultante.</p>
</section>
<section id="foolicensing" class="level5" data-number="3.2.0.0.3">
<h5 data-number="3.2.0.0.3"><span
class="header-section-number">3.2.0.0.3</span> Licensing: </h5>
<p>Per quanto riguarda la gestione delle licenze, &#xE8; stato scelta, tra le varie
disponibili, la licenza GNU General Public Service. E&#x2019; una licenza copyleft,
ovvero un tipo di licenza che viene applicata ai software open source. Il
programma pu&#xF2; essere quindi distribuito liberamente, modificato e migliorato,
con la clausola di non cambiare licenza. Questo tuttavia impone a tutti i
software derivati di mantenere il codice opensource, anche in caso di
commercializzazione a pagamento. Nonostante alcune aziende non possano usare
il codice qualora volessero incorporarlo in prodotti in cui il codice non &#xE8;
pubblico, consciamente &#xE8; stata fatta questa scelta per supportare
l&#x2019;opensource. Per referenze &#xE8; possibile consultare un riassunto dello spettro
delle licenze a questo <a
href="https://choosealicense.com/licenses/">link</a>.</p>
</section>
<section id="fooversioning" class="level5" data-number="3.2.0.0.4">
<h5 data-number="3.2.0.0.4"><span
class="header-section-number">3.2.0.0.4</span> Versioning: </h5>
<p>Per il versioning ci si &#xE8; avvalsi di Git e come piattaforma web di GitHub
che incorpora le funzionalit&#xE0; di controllo di versione di Git.</p>
</section>
<section id="foogithub-issues-and-project-boards" class="level5"
data-number="3.2.0.0.5">
<h5 data-number="3.2.0.0.5"><span
class="header-section-number">3.2.0.0.5</span> Github Issues and Project
Boards: </h5>
<p>Per organizzare il lavoro, elencare i problemi riscontrati ed assegnare i
tasks sono state utilizzate le Github Issues dove &#xE8; possibile pianificare e
tenere traccia del proprio operato aggiungendo varie issue al progetto, ognuna
corrispondente a un task. Ad ogni issue &#xE8; possibile aggiungere vari elementi,
labels e l&#x2019;assegnatario. In minor misura sono state usate le GitHub Projects
boards. Esse aiutano a organizzare e prioritarizzare il lavoro. Si tratta di
schede che contengono issues e note che vengono categorizzate in cards su
colonne, ogni colonna indica lo stadio di avanzamento del compito.</p>
</section>
<section id="footelegram" class="level5" data-number="3.2.0.0.6">
<h5 data-number="3.2.0.0.6"><span
class="header-section-number">3.2.0.0.6</span> Telegram: </h5>
<p>E&#x2019; stato creato un gruppo Telegram per aggiornarsi giornalmente sullo
sviluppo del progetto, esprimere eventuali dubbi e avere ulteriori
chiarimenti.</p>
</section>
<section id="fooincontri" class="level5" data-number="3.2.0.0.7">
<h5 data-number="3.2.0.0.7"><span
class="header-section-number">3.2.0.0.7</span> Incontri: </h5>
<p>Si &#xE8; deciso di sentirsi una volta a settimana, per risolvere insieme alcuni
task rimasti,aiutarsi nelle problematiche riscontrate durante lo sviluppo,
fare il chiarimento della situazione. Eventualmente si stilava anche lo Sprint
per la settimana successiva, se quello precedente era stato completato. Sono
state alternate sedute sia in presenza che online, dove ci si &#xE8; avvalsi della
piattaforma Microsoft Teams.</p>
</section>
</section>
<section id="foochap:CI" class="level2" data-number="3.3">
<h2 data-number="3.3"><span class="header-section-number">3.3</span>
Continuous Integration e Automatizzazione</h2>
<p>In questo capitolo si analizza la parte di integrazione e automatizzazione
sia del progetto software che della relazione.<br />
Si &#xE8; pensato di organizzare l&#x2019;automazione dei compiti pi&#xF9; ripetitivi
attraverso l&#x2019;approccio CI/CD, sia per il progetto che per la stesura della
relazione.</p>
<section id="foorelazione-di-progetto" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1"><span class="header-section-number">3.3.1</span>
Relazione di Progetto</h3>
<p>La relazione &#xE8; stata scritta su Overleaf, uno strumento di scrittura e
pubblicazione collaborativo online. Inoltre il progetto Overleaf &#xE8; stato
sincronizzato su un apposito repository in Github, dove poter inserire le
modifiche ogni volta. Il branch main ospita la release finale della relazione.
Ad ogni modifica di tale branch vengono rilasciate le versioni pdf e web
aggiornate della relazione.</p>
</section>
<section id="fooprogetto" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2"><span class="header-section-number">3.3.2</span>
Progetto</h3>
<p>L&#x2019;approccio GitFlow, che abbiamo seguito fedelmente, utilizza due rami
principali per gestire il controllo di versione del progetto. Il primo, main
che conserva tutte le release, &#xE8; il centro del nostro progetto, perch&#xE9;
rispecchia la versione pubblica attualmente in produzione, la versione cio&#xE8;
accessibile ai nostri utenti. Il secondo &#xE8; il ramo dev, che &#xE8; fondamentale per
lo sviluppo delle prossime versioni e serve come base per le future
integrazioni. Il dev &#xE8; il punto di partenza e di arrivo di tutti gli altri
branch.<br />
Per lo sviluppo di ogni issue veniva creato un branch apposito. Al
completamento il codice veniva compilato e testato, infine veniva fatta una
pull request, dove veniva richiesta la review di almeno un componente del team
per poter includere le proprie modifiche al progetto.<br />
Periodicamente quindi veniva fatta una release sul branch main. Il codice sul
branch dev veniva ritestato e anche i membri del team eseguivano gli opportuni
User Acceptance test per verificare le varie funzionalit&#xE0; implementate. Il
deploy finale del progetto per la produzione &#xE8; stato fatto sull&#x2019;ambiente
Github Pages.</p>
</section>
</section>
</section>
<section id="fooanalisi-dei-requisiti" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Analisi dei
Requisiti</h1>
<p>In questa fase sono stati individuati i <strong>requisiti del
sistema</strong>, partendo dalle descrizioni di alto livello, ottenute dal
committente durante il <strong>knowledge crunching e i focus group</strong>.
Successivamente si &#xE8; proceduto con un raffinamento che ha portato alla
definizione di requisiti pi&#xF9; <strong>specifici</strong>,
<strong>chiari</strong> e <strong>strutturati</strong>.</p>
<section id="foorequisiti-di-business" class="level2" data-number="4.1">
<h2 data-number="4.1"><span class="header-section-number">4.1</span> Requisiti
di Business</h2>
<p>Si definiscono di seguito le aspettative del cliente e i requisiti che il
prodotto dovr&#xE0; soddisfare, espressi con una terminologia ad elevato livello
astrattivo.</p>
<ul>
<li><p>Il prodotto dovr&#xE0; costituire un <strong>unico servizio</strong> per
consultare e paragonare diverse previsioni meteo provenienti da vari provider
internazionali.</p></li>
<li><p>L&#x2019;applicativo dovr&#xE0; permettere di visualizzare all&#x2019;utente le
<strong>previsioni aggregate</strong>.</p></li>
<li><p>Il prodotto dovr&#xE0; facilitare le decisioni dell&#x2019;utente e permettere di
arrivare facilmente ad una <strong>previsione affidabile</strong>.</p></li>
<li><p>Opzionalmente il prodotto dovr&#xE0; fornire un sistema di notifiche
giornaliere.</p></li>
</ul>
</section>
<section id="foorequisiti-utente" class="level2" data-number="4.2">
<h2 data-number="4.2"><span class="header-section-number">4.2</span> Requisiti
Utente</h2>
<p>Di seguito vengono riportate le richieste mosse dal cliente in maniera
informale evitando termini tecnici, successivamente tali richieste saranno
formalizzate per quanto possibile. Il prodotto dovr&#xE0; fornire:</p>
<ul>
<li><p>L&#x2019;accesso al sistema da <strong>qualunque dispositivo</strong> munito
di connessione alla rete, anche mobile o tablet.</p></li>
<li><p>Tutte le operazioni necessarie per consultare previsioni
meteo.</p></li>
<li><p><strong>Prestazioni adeguate</strong> per il caricamento.</p></li>
<li><p>Un&#x2019; interfaccia intuitiva e usabile.</p></li>
<li><p>Possibilit&#xE0; di creare un account in cui gestire le proprie
informazioni.</p></li>
<li><p>Possibilit&#xE0; di registrare una centralina.</p></li>
<li><p>Possibilit&#xE0; di valutare l&#x2019;affidabilit&#xE0; dei provider.</p></li>
<li><p>Un&#x2019;<strong>esperienza personalizzata</strong> e user-friendly.</p></li>
</ul>
<section id="foouser-stories" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1"><span class="header-section-number">4.2.1</span> User
stories</h3>
<p>Di seguito sono riportate tutte le <strong>user stories</strong> formulate
assieme agli utilizzatori</p>
<ul>
<li><p>Come <strong>utente</strong> voglio:</p>
<ul>
<li><p>poter <strong>visualizzare le previsioni odierne</strong> per una
localit&#xE0; specifica o per la propria posizione attuale.</p></li>
<li><p>poter <strong>visualizzare le previsioni relative ai prossimi
giorni</strong> per una localit&#xE0; specifica o per la propria posizione
attuale.</p></li>
<li><p>poter <strong>impostare la fiducia per ogni servizio</strong> usato e
fornire un feedback, con la possibilit&#xE0; anche di eliminarlo.</p></li>
<li><p><strong>specificare la localit&#xE0; preferita</strong> di cui vedere le
previsioni non appena viene visualizzata l&#x2019;area riservata, oppure modificare o
rimuovere quest&#x2019;ultima.</p></li>
<li><p><strong>aggiungere un device</strong>, registrandolo come centralina
meteo a cui richiedere le previsioni con la possibilit&#xE0; di modificarlo o
rimuoverlo.</p></li>
<li><p><strong>ricevere notifiche ad una certa ora</strong> con le previsioni
giornaliere sulla localit&#xE0; preferita.</p></li>
<li><p><strong>visualizzare le statistiche</strong> e indici di affidabilit&#xE0;
di un provider in base ai feedback degli altri utenti.</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="foorequisiti-funzionali" class="level2" data-number="4.3">
<h2 data-number="4.3"><span class="header-section-number">4.3</span> Requisiti
Funzionali</h2>
<p>Di seguito si riportano i requisiti funzionali, descrivendo in modo pi&#xF9;
dettagliato possibile le funzionalit&#xE0; che deve avere l&#x2019;applicazione:</p>
<ul>
<li><p>fornire la possibilit&#xE0; di aggiungere una previsione inserendo una
localit&#xE0; specifica o tramite coordinate geografiche.</p></li>
<li><p>ridurre il tempo necessario per consultare pi&#xF9; previsioni.</p></li>
<li><p>fornire i seguenti dettagli delle previsioni: condizione meteo,
temperatura, pressione, quantit&#xE0; di pioggia e umidit&#xE0;.</p></li>
<li><p>produrre le previsioni aggregate come media di tutte le previsioni dei
vari provider.</p></li>
<li><p>offrire previsioni correnti e fino a tre giorni.</p></li>
<li><p>fornire per ogni provider meteo un indice di affidabilit&#xE0;, dato dalla
media dei ratings dei suoi feedbacks.</p></li>
<li><p>fornire maggiori funzionalit&#xE0; per un utente registrato quali poter
aggiungere, aggiornare oppure rimuovere le centraline, la localit&#xE0; preferita e
eventuali feedbacks sui provider.</p></li>
<li><p>fornire un meccanismo di notifiche che invii ad una certa ora le
previsioni giornaliere sulla localit&#xE0; preferita dell&#x2019;utente via
email.</p></li>
<li><p>salvare in memoria le ultime previsioni in modo da risparmiare tempo su
richieste successive della stessa zona.</p></li>
</ul>
<section id="fooapplicativo-web" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1"><span class="header-section-number">4.3.1</span>
Applicativo web</h3>
<p>L&#x2019;applicativo web deve consentire ad ogni utente di accedere con una serie
di credenziali, e dividere le operazioni consentite in base ai permessi
concessi. Il sito &#xE8; suddiviso in pagine:</p>
<ul>
<li><p><strong>Autenticazione</strong>: Pagina di login per effettuare
l&#x2019;accesso e pagina di registrazione per i nuovi utenti.</p></li>
<li><p><strong>Home</strong>: dove &#xE8; possibile registrarsi, accedere,
visualizzare le previsioni. E&#x2019; visibile da chiunque. Mostra brevemente, con
l&#x2019;aiuto di immagini, le funzionalit&#xE0; del sito.</p></li>
<li><p><strong>Profilo Privato</strong>: dove visualizzare e modificare le
proprie informazioni o gestire i propri feedbacks e centraline. Solo il
proprietario del profilo pu&#xF2; accedere a questa pagina.</p></li>
<li><p><strong>Profilo Pubblico</strong>: serve per visualizzare le
informazioni di un altro utente. E&#x2019; visibile da chiunque.</p></li>
<li><p><strong>Forecast</strong> dove vengono visualizzate le condizioni meteo
correnti e le previsioni dei prossimi tre giorni. Queste possono essere sia
aggregate che non. E&#x2019; visibile da chiunque.</p></li>
<li><p><strong>Feedbacks</strong> visualizza i feedbacks dei vari provider e i
loro indici di affidabilit&#xE0;. E&#x2019; visibile da chiunque, ma si possono aggiungere
feedbacks solo se registrati.</p></li>
<li><p><strong>About</strong> mostra informazioni sugli sviluppatori del
progetto e sullo scopo dell&#x2019;applicativo, con un modulo di contatto per
chiedere informazioni o segnalare problemi agli admin.</p></li>
</ul>
</section>
</section>
<section id="foorequisiti-non-funzionali" class="level2" data-number="4.4">
<h2 data-number="4.4"><span class="header-section-number">4.4</span> Requisiti
non Funzionali</h2>
<p>Il sistema dovr&#xE0; rispettare i seguenti requisiti non funzionali per un&#x2019;alta
<strong>qualit&#xE0;</strong>:</p>
<ul>
<li><p><strong>Reattivit&#xE0;</strong>: L&#x2019;applicazione dovr&#xE0; essere reattiva e
fornire un basso tempo di risposta, tutte le azioni dovranno essere processate
istantaneamente e le informazioni dovranno essere aggiornate subito.</p></li>
<li><p><strong>Modularit&#xE0;</strong>: L&#x2019;applicazione dovr&#xE0; essere modulabile,
con lo scopo di aggiungere senza problemi eventuali nuove
funzionalit&#xE0;.</p></li>
<li><p><strong>Scalabilit&#xE0;</strong>: L&#x2019;applicativo dovr&#xE0; necessariamente
consentire di aumentare o diminuire il numero di utenti gestiti senza
particolari problemi.</p></li>
<li><p><strong>Disponibilit&#xE0;</strong>: L&#x2019;applicazione dovr&#xE0; essere disponibile
24/7. L&#x2019;utilizzo di pi&#xF9; api per il meteo , oltre allo scopo di fornire
l&#x2019;aggregazione delle previsioni, ha anche quello di mantenere le previsioni
disponibili anche se qualche provider &#xE8; momentaneamente down.</p></li>
<li><p>L&#x2019;applicazione dovr&#xE0; lavorare senza errori e fornire una buona "user
experience" tramite un&#x2019;interfaccia responsive e usabile. Mostrer&#xE0;:</p>
<ul>
<li><p>alert in caso di errori (ad esempio: qualora le previsioni non siano
state caricate correttamente oppure ci sia stato un errore durante la
registrazione o il login, etc...).</p></li>
<li><p>alert in caso le operazioni siano avvenute con successo per facilitare
l&#x2019;esperienza utente (ad esempio: la registrazione o il login sono avvenuti con
successo, la centralina o il feedback sono stati aggiunti correttamente,
etc...).</p></li>
</ul></li>
</ul>
</section>
<section id="foorequisiti-implementativi" class="level2" data-number="4.5">
<h2 data-number="4.5"><span class="header-section-number">4.5</span> Requisiti
Implementativi</h2>
<p>Si definiscono i vincoli a livello tecnologico e di implementazione che
sar&#xE0; necessario rispettare nella realizzazione dell&#x2019;applicativo.</p>
<section id="foometodologie-e-tecnologie-utilizzate" class="level3"
data-number="4.5.1">
<h3 data-number="4.5.1"><span class="header-section-number">4.5.1</span>
Metodologie e Tecnologie Utilizzate</h3>
<p>In quanto progetto sviluppato per l&#x2019;esame di Applicazioni e Servizi Web &#xE8;
necessario che le tecnologie usate rispettino gli standard di insegnamento.
Per tale motivo &#xE8; stato richiesto di utilizzare un elenco di tecnologie viste
a lezione. Esse sono <em>Node.JS</em>, <em>MongoDB</em>, <em>Express.JS</em> e
un framework per lo sviluppo di applicazioni frontend tra <em>Vue.JS</em>,
<em>Angular</em> o <em>React</em>.</p>
</section>
</section>
</section>
<section id="foodesign-architetturale" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Design
Architetturale</h1>
<section id="fooarchitettura-generale" class="level2" data-number="5.1">
<h2 data-number="5.1"><span class="header-section-number">5.1</span>
Architettura Generale</h2>
<p>Abbiamo deciso di dividere il nostro sistema in due macro componenti: un
applicativo server, che si occupi di gestire le richieste degli utenti, e un
applicativo client, che si occupi di interrogare il server per richiedere
informazioni. Le specifiche imposte dalla prova di esame in corso imponevano
di usare determinate tecnologie per lo sviluppo di tali componenti, ma non
imponevano altri vincoli. Abbiamo scelto noi di sviluppare i due componenti
come progetti separati per aumentare l&#x2019;indipendenza di un componente rispetto
l&#x2019;altro.</p>
<p>Le funzioni da qui demandate all&#x2019;applicativo <strong>Server</strong>
sono:</p>
<ul>
<li><p>Richiesta di previsioni meteo da providers esterni: ci siamo registrati
ai seguenti provider di previsioni meteo internazionali:</p>
<ul>
<li><p>Open Weather Map</p></li>
<li><p>Troposphere</p></li>
</ul>
<p>Quando il server viene interrogato per una previsione, la richiede a sua
volta alle sorgenti di dati disponibili, che possono essere:</p>
<ul>
<li><p>Servizi esterni (sopra citati)</p></li>
<li><p>Centraline degli utenti registrati</p></li>
</ul>
<p>Non appena i risultati saranno ricevuti, sono immediatamente processati e
forniti in output. Le unit&#xE0; di misura devono essere tutte uniformi e
convertite all&#x2019;occorrenza.</p></li>
<li><p>Richiesta di autenticazione da parte dei client: date le credenziali
degli utenti, il server si deve occupare di verificarne la presenza nella base
dati degli utenti registrati nel sito. Dopo averne verificato l&#x2019;autenticit&#xE0; e
la validit&#xE0;, deve rilasciare un token di autenticazione da utilizzare nel caso
in cui bisognasse richiedere delle risorse protette.</p></li>
<li><p>Richiesta di feedbacks dei providers meteo: fornire un sistema di
recensioni, le quali possono essere lasciate per ogni provider in base alla
correttezza delle sue previsioni meteo. Successivamente calcolare la
valutazione media di ogni servizio consultabile.</p></li>
<li><p>Notifica di previsioni meteo a caselle di posta elettronica:
configurando un account di posta elettronica per il proprio utente, il server
deve poter inviare delle emails a chi ne fa richiesta per poter conoscere,
all&#x2019;inizio della propria giornata o nel momento che si ritiene pi&#xF9; opportuno,
le previsioni per la localit&#xE0; preferita.</p></li>
</ul>
<p>Le funzioni da qui demandate all&#x2019;applicativo <strong>Client</strong>
sono:</p>
<ul>
<li><p>Presentazione del progetto, degli autori e delle funzionalit&#xE0; messe a
disposizione.</p></li>
<li><p>Fornitura di un&#x2019;interfaccia utente semplificata per la richiesta delle
previsioni meteo all&#x2019;applicativo Server:</p>
<ul>
<li><p>che renda comodo ed intuitivo la consultazione e la fruizione delle
previsioni meteo dei vari providers</p></li>
<li><p>che calcoli in automatico le statistiche relative alla distribuzione,
alle differenze e similitudini dei risultati ottenuti dalle api</p></li>
</ul></li>
<li><p>Gestione delle impostazioni e dei dati personali degli utenti:
registrandosi al sito, ogni utente fornisce un insieme di dati e informazioni
che devono essere mantenute, consultabili e modificabili agilmente. Le
informazioni gestite comprendono anche la localit&#xE0; preferita dell&#x2019;utente, le
centraline registrate e i feedbacks rilasciati.</p></li>
<li><p>Gestione dei feedbacks rilasciati dagli utenti: deve rendere possibile
creare delle recensioni per i providers e renderle consultabili da tutti gli
utenti, assieme alla valutazione media del servizio stesso.</p></li>
</ul>
<p>Oltre a questi componenti deve essere sviluppato anche il componente per
simulare una centralina meteo amatoriale che possa ricevere le richieste del
server per ottenere le previsioni meteo della zona in cui &#xE8; situata. Per fare
questo, abbiamo creato un nuovo progetto indipendente che assolva a questi
compiti.</p>
<figure>
<img src="DrawIo/General.png" id="foofig:General" style="width:50.0%"
alt="Architettura Generale" />
<figcaption aria-hidden="true">Architettura Generale</figcaption>
</figure>
<p>Nel seguente schema vengono anche mostrati altri due componenti, chiamati
Providers, che rappresentano i servizi esterni a cui ci affidiamo per ottenere
dei dati meteo veritieri.</p>
</section>
<section id="fooscelte-tecnologiche-cruciali" class="level2"
data-number="5.2">
<h2 data-number="5.2"><span class="header-section-number">5.2</span> Scelte
Tecnologiche Cruciali</h2>
<p>Avendo l&#x2019;esigenza di fornire all&#x2019;utente i risultati delle previsioni meteo
da lui richieste non appena essi fossero stati pronti, una scelta cruciale per
il progetto &#xE8; stata scegliere riuscire una tecnologia per mantenere un canale
dati aperto tra il Client e il Server. Il protocollo HTTP non fornisce di per
se un meccanismo tale per cui sia il Server ad inviare una richiesta di
connessione al Client. Per questo motivo si &#xE8; optato ad un approccio basato
sulle Sockets. In particolare, abbiamo scelto la libreria <em>Sockets.IO</em>,
gi&#xE0; vista a lezione.</p>
</section>
<section id="foopattern-architetturali-utilizzati" class="level2"
data-number="5.3">
<h2 data-number="5.3"><span class="header-section-number">5.3</span> Pattern
Architetturali Utilizzati</h2>
<section id="fooclient-server" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1"><span class="header-section-number">5.3.1</span>
Client-Server</h3>
<p>Nella figura 5.2 &#xE8; illustrato come avviene un flusso di richieste di
previsioni meteo dal Client al Server.</p>
<figure>
<img src="DrawIo/forecast_request_activity_diagram.png"
id="foofig:Forecast Request Activity Diagram" style="width:75.0%"
alt="Diagramma delle attivit&#xE0; di una richiesta di previsioni dal Client al Server" />
<figcaption aria-hidden="true">Diagramma delle attivit&#xE0; di una richiesta di
previsioni dal Client al Server</figcaption>
</figure>
<p>Procedendo in ordine numerico, al punto 1., il Client invia una richiesta
al Server contenente il nome della localit&#xE0; di cui vuole sapere le coordinate.
Il Server nei punti 2. e 3. prepara la richiesta da inviare ai vari provider
di previsioni meteo. Nello specifico vengono preparate solamente altre due
richieste per altrettanti providers, ma in un caso reale potrebbero essercene
molte di pi&#xF9;. Da notare come in questo punto avvenga una divisione del flusso
computazionale principale in due flussi separati ed indipendenti. Nei punti 4.
e 5. tali flussi eseguono autonomamente le richieste delle previsioni al
provider meteo esterno a loro assegnato. Ricevuta la risposta nei punti 6. e
7., la inoltrano al Client nei punti 7. e 8..</p>
</section>
</section>
</section>
<section id="foodesign-di-dettaglio" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Design di
Dettaglio</h1>
<p>In questo capitolo verr&#xE0; spiegato come si &#xE8; giunti a realizzare
l&#x2019;applicativo, confrontando poi i <a
href="https://github.com/Weather-Vortex/WeatherVortex-Report/raw/main/MockUps/WeatherVortex-Mockup.pdf">mockup</a>
con le effettive interfacce utente, descrivendone i componenti e infine
mostrando lo schema della base di dati implementata.</p>
<p>Come tutti i programmi, il progetto &#xE8; costituito da frontend e backend.
Questi denotano rispettivamente la parte visibile all&#x2019;utente di un programma e
con cui egli pu&#xF2; interagire &#x2014;tipicamente un&#x2019;interfaccia utente&#x2014; e la parte che
permette l&#x2019;effettivo funzionamento di queste interazioni. Il frontend, nella
sua accezione pi&#xF9; generale, &#xE8; responsabile dell&#x2019;acquisizione dei dati di
ingresso e della loro elaborazione con modalit&#xE0; conformi a specifiche
predefinite e invarianti, tali da renderli utilizzabili dal backend. Il
collegamento del frontend al backend &#xE8; un caso particolare di interfaccia.</p>
<section id="foofrontend" class="level2" data-number="6.1">
<h2 data-number="6.1"><span class="header-section-number">6.1</span>
Frontend</h2>
<p>Fin dall&#x2019;analisi del progetto &#xE8; stato chiaro che il target
dell&#x2019;applicazione fosse ampio, infatti l&#x2019;insieme degli utenti interessati
comprende chiunque abbia la necessit&#xE0; di consultare delle previsioni meteo.
Per questo motivo, le interfacce e il funzionamento dell&#x2019;applicazione sono
stati progettati per essere adoperati anche dagli utenti meno esperti.</p>
<section id="foointerfacce-utente" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1"><span class="header-section-number">6.1.1</span>
Interfacce utente</h3>
<p>In seguito ad un&#x2019;analisi preliminare del problema sono stati prodotti dei
mockup della grafica per dare l&#x2019;idea delle funzioni e dei requisiti
dell&#x2019;applicativo. Le pagine effettive si sono evolute durante lo sviluppo ma
mantengono le linee guida dei mockup. Vengono descritte le interfacce utente
pi&#xF9; importanti. Si consulti anche il capitolo <a href="#fooprodottofinale"
data-reference-type="ref" data-reference="prodottofinale">7.4</a> per
visualizzare il risultato finale delle pagine.</p>
<figure>
<img src="MockUps/homepage.png" id="foofig:Home" style="width:60.0%"
alt="Home" />
<figcaption aria-hidden="true">Home</figcaption>
</figure>
<p>La homepage &#xE8; la pagina principale di presentazione. In bella vista
presenta una card con una barra di testo dove inserire il nome della localit&#xE0;
con l&#x2019;icona di una mappa per le coordinate geografiche, con due bottoni in
basso per richiedere le previsioni. Attraverso i bottoni Login e Register
inoltre si pu&#xF2; accedere alle pagine di autenticazione.</p>
<figure>
<img src="MockUps/Login_Register.png" id="foofig:Login" style="width:60.0%"
alt="Login" />
<figcaption aria-hidden="true">Login</figcaption>
</figure>
<p>Viene pensata una pagina di login classica con la possibilit&#xE0; di recuperare
la password e una pagina di registrazione. Effettuata la registrazione viene
chiesto agli utenti di completare la propria iscrizione cliccando sul link
dell&#x2019;email di conferma.</p>
<figure>
<img src="MockUps/forecast.png" id="foofig:Forecast" style="width:60.0%"
alt="Forecast" />
<figcaption aria-hidden="true">Forecast</figcaption>
</figure>
<p>Il fulcro dell&#x2019;applicazione &#xE8; sicuramente la pagina delle previsioni.
Inizialmente la pagina visualizza un&#x2019;immagine esplicativa con in alto una
barra di testo dove inserire la localit&#xE0; oppure richiedere le coordinate
geografiche attuali attraverso l&#x2019;icona della mappa. Cliccando sui due pulsanti
a lato si pu&#xF2; richiedere il meteo attuale o quello dei prossimi tre giorni.
Comparir&#xE0; cos&#xEC; in posizione centrale la card della previsione aggregata e in
basso un insieme di schede che rappresentano le previsioni di ogni provider,
con informazioni utili sul meteo. Nel caso siano richieste le previsioni dei
prossimi tre giorni, la pagina si aggiorner&#xE0; mettendo a disposizione un
tooltip di bottoni per scegliere il giorno specifico e uno slider per
scegliere l&#x2019;ora della previsione.</p>
<figure>
<img src="MockUps/feedback.png" id="foofig:Feedbacks" style="width:60.0%"
alt="Feedbacks" />
<figcaption aria-hidden="true">Feedbacks</figcaption>
</figure>
<p>Nella pagina delle recensioni &#xE8; possibile visualizzare uno slider che
contiene le schede con le recensioni relative ai vari provider. Tramite la
barra di ricerca in alto &#xE8; possibile trovare quello desiderato digitandone
parte del nome. Ogni scheda contiene una lista di recensioni lasciate dagli
utenti. Per ogni recensione viene mostrato l&#x2019;avatar dell&#x2019;utente che l&#x2019;ha
rilasciata, con a lato la sua valutazione. Questa &#xE8; stata espressa
graficamente da una a cinque stelle. Cliccando sul campo &#xE8; possibile
visualizzare il profilo pubblico dell&#x2019;utente associato.</p>
<figure>
<img src="MockUps/sendFeedback.png" id="foofig:FeedbacksDialog"
style="width:60.0%" alt="Aggiunta di una recensione" />
<figcaption aria-hidden="true">Aggiunta di una recensione</figcaption>
</figure>
<p>All&#x2019;estremit&#xE0; di ogni scheda, se si &#xE8; autenticati, sar&#xE0; presente il
pulsante per aggiungere una nuova recensione. Se si clicca su di esso si
visualizzer&#xE0; una finestra con il rating da inserire. Questa &#xE8; espandibile: si
possono anche specificare il campo della previsione che si vuole recensire (ad
esempio temperatura minima, Pressione, etc), la data della previsione alla
quale ci si riferisce, e eventuali note. In cima ad ogni card si &#xE8; deciso di
far visualizzare una statistica, calcolata come media dei rating di quel
provider. Si tratta di un indice di affidabilit&#xE0; che calcola l&#x2019;accuratezza
della previsione, basandosi sull&#x2019;opinione delle altre persone.</p>
<figure>
<img src="MockUps/Private Profile.png" id="foofig:PrivateProfile"
style="width:60.0%" alt="Private Profile" />
<figcaption aria-hidden="true">Private Profile</figcaption>
</figure>
<p>La pagina del profilo privato d&#xE0; la possibilit&#xE0; ad ogni utente di
visualizzare e gestire le proprie informazioni personali. Cliccando su "edit"
si aprir&#xE0; un dialog che consentir&#xE0; di poter modificare la propria password o
la propria posizione preferita. L&#x2019;utente ha la possibilit&#xE0; di visualizzare le
proprie centraline, di aggiungerle tramite il pulsante "+" in alto della
tabella, modificarle e eventualmente cancellarle (ne verr&#xE0; richiesta la
conferma). L&#x2019;utente ha la possibilit&#xE0; di visualizzare le proprie recensioni e
eventualmente cancellarle (ne verr&#xE0; richiesta la conferma). Navigando in
questa pagina c&#x2019;&#xE8; anche la possibilit&#xE0; di cancellare il proprio account
tramite un bottone apposito in fondo alla pagina.</p>
<p>La pagina del Profilo pubblico ha la stessa struttura del Profilo privato,
ma qui nessuna operazione di modifica &#xE8; concessa.</p>
<figure>
<img src="MockUps/about.png" id="foofig:About" style="width:60.0%"
alt="About" />
<figcaption aria-hidden="true">About</figcaption>
</figure>
<p>Infine una pagina per i contatti che consente l&#x2019;inserimento di un
messaggio/ticket per il supporto tecnico e alcune informazioni sul team di
sviluppo.</p>
</section>
<section id="foocomponenti" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2"><span class="header-section-number">6.1.2</span>
Componenti</h3>
<p>Si descrivono in breve i componenti principali usati per ogni pagina. Prima
di tutto si elencano i componenti presenti in tutte le pagine:</p>
<ul>
<li><p>Appbar: E&#x2019; una barra colorata situata nella zona alta della pagina.
Contiene tre componenti:</p>
<ul>
<li><p>Icona Utente: Situata nell&#x2019;estremit&#xE0; destra, permette di autenticarsi o
registrarsi al sito se l&#x2019;utente non ha eseguito l&#x2019;accesso, altrimenti esso pu&#xF2;
visualizzare la propria pagina del profilo privato o effettuare il logout. Il
suo aspetto cambia: se &#xE8; autenticato mostra le iniziali del proprio nome e
cognome, altrimenti mostra un&#x2019;icona generica.</p></li>
<li><p>Titolo Weather Vortex: Situata nella parte centrale, permette di
navigare alla home cliccando su di esso.</p></li>
<li><p>Icona Men&#xF9;: Situata nell&#x2019;estremit&#xE0; sinistra, consente di mostrare o
nascondere la barra di navigazione (Navbar).</p></li>
</ul></li>
<li><p>Navbar: Si tratta della barra di navigazione attraverso cui l&#x2019;utente
pu&#xF2; muoversi nelle principali finestre del sito.</p></li>
<li><p>Footer: Il footer a fine pagina contenente dei link utili.</p></li>
</ul>
<p>La pagina Home &#xE8; composta dai principali componenti:</p>
<ul>
<li><p>QuickForecastCard: Card che viene usata come scorciatoia per
visualizzare le previsioni.</p></li>
<li><p>AccountButtons: Contiene i bottoni per accedere alle pagine di
autenticazione.</p></li>
<li><p>InfoMain: Insieme di cards di descrizione</p></li>
<li><p>checkStatus: Card che mostra lo stato del server.</p></li>
</ul>
<p>La pagina Feedbacks &#xE8; composta dai seguenti componenti:</p>
<ul>
<li><p>SlidesOrizontalGroup: Si tratta dello slider che contiene le schede dei
vari provider con le recensioni. E&#x2019; composto da due sottocomponenti:</p>
<ul>
<li><p>ServiceRatingList: Rappresenta la lista delle recensioni del provider.
Ogni campo recensione &#xE8; composto dall&#x2019;avatar dell&#x2019;utente, dalle sue iniziali e
dalla sua recensione.</p></li>
<li><p>FeedbackDialog: Rappresenta il dialog per l&#x2019;aggiunta della
recensione.</p></li>
</ul></li>
</ul>
<p>La pagina Forecast &#xE8; composta dai seguenti componenti:</p>
<ul>
<li><p>EmptyForecast: Mostra la pagina iniziale delle previsioni.</p></li>
<li><p>CurrentForecast: Mostra la pagina del meteo attuale. E&#x2019; composta dal
seguente sottocomponente:</p>
<ul>
<li><p>ForecastGroup. Esso rappresenta l&#x2019;insieme delle previsioni meteo.
Richiama il componente WeatherForecastCard che rappresenta una singola
previsione per uno specifico provider o il meteo aggregato. Esso contiene la
descrizione del meteo, la data, la temperatura minima e massima, la pressione,
l&#x2019;umidit&#xE0;, la quantit&#xE0; di nuvole, di pioggia e di neve.</p></li>
</ul></li>
<li><p>ThreeDaysForecast: Mostra la pagina delle previsioni dei prossimi tre
giorni. Richiama gli stessi componenti di "CurrentForecast".</p></li>
</ul>
<p>La pagina Profilo Privato &#xE8; composta dai seguenti componenti:</p>
<ul>
<li><p>PrivateUserCard: Si tratta della card che visualizza le informazioni
private dell&#x2019;utente: avatar, nome, cognome, data di creazione, email,
posizione preferita e bottone di modifica.</p></li>
<li><p>PrivateUserReviews: Tabella che visualizza le recensioni rilasciate.
Contiene i relativi campi: provider, valutazione, commento e un pulsante per
la cancellazione.</p></li>
<li><p>PrivateUserControlUnits: Tabella che visualizza tutte le centraline
inserite. E&#x2019; costituita dai seguenti campi: nome, posizione, url e due
pulsanti per la modifica e la cancellazione.</p></li>
</ul>
<p>La pagina Profilo Pubblico ha i seguenti sottocomponenti:</p>
<ul>
<li><p>PublicUserCard: Si tratta della card che visualizza le informazioni
pubbliche dell&#x2019;utente: avatar, nome, cognome, eventuale posizione
preferita.</p></li>
<li><p>PublicUserReviews: Tabella che mostra le recensioni lasciate
dall&#x2019;utente. Contiene i seguenti campi: provider, recensione,
commento.</p></li>
<li><p>PublicUserControlUnits: Tabella che visualizza tutte le centraline
inserite dell&#x2019;utente. E&#x2019; costituita dai seguenti campi: nome, posizione,
url.</p></li>
</ul>
<p>La pagina About &#xE8; composta dai seguenti componenti:</p>
<ul>
<li><p>Timeline: Componente che visualizza cronologicamente gli vari stadi del
progetto.</p></li>
<li><p>MeetTeam: Un insieme di cards per descrivere gli autori del
progetto.</p></li>
<li><p>ContactUs: Componente che funge da modulo di contatto.</p></li>
</ul>
</section>
<section id="foovue-router" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3"><span class="header-section-number">6.1.3</span>
Vue-Router</h3>
<p>Oltre ai componenti descritti sopra all&#x2019;interno di ogni pagina un
componente di Vue.js che &#xE8; stato utilizzato &#xE8; il vue-router, per il routing e
la navigazione delle pagine. Esso consente, tramite una router-view, di
visualizzare i componenti desiderati (che insieme compongono le varie
interfacce utente).</p>
</section>
</section>
<section id="foobackend" class="level2" data-number="6.2">
<h2 data-number="6.2"><span class="header-section-number">6.2</span>
Backend</h2>
<p>Viene ora mostrato lo schema di database utilizzato dall&#x2019;applicazione:</p>
<figure>
<img src="DrawIo/database.png" id="foofig:Database" style="width:100.0%"
alt="Database" />
<figcaption aria-hidden="true">Database</figcaption>
</figure>
<section id="foomodelli" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1"><span class="header-section-number">6.2.1</span>
Modelli</h3>
<p>Ci sono cinque modelli che sono il fulcro dell&#x2019;applicazione, essi si
trovano nella cartella models. Essi costituiscono un modello di dati da
salvare in MongoDB, che vengono usati per istanziare oggetti che saranno
automaticamente dotati di metodi per svolgere le classiche operazioni
CRUD.</p>
<ul>
<li><p>user - Rappresenta il modello dell&#x2019;utente. I suoi campi sono:</p>
<ul>
<li><p>firstName: nome dell&#x2019;iscritto.</p></li>
<li><p>lastName: cognome dell&#x2019;iscritto.</p></li>
<li><p>password: password dell&#x2019;iscritto.</p></li>
<li><p>email: email dell&#x2019;iscritto.</p></li>
<li><p>token: stringa generata durante il login per verificare
l&#x2019;autenticazione dell&#x2019;utente.</p></li>
<li><p>creationDate: data di creazione dell&#x2019;account.</p></li>
<li><p>emailToken: token per verificare l&#x2019;iscrizione.</p></li>
<li><p>resetLink: token per il cambio della password.</p></li>
<li><p>isVerified: booleano che indica se l&#x2019;utente &#xE8; stato
verificato.</p></li>
<li><p>preferred: una eventuale localit&#xE0; preferita.</p></li>
<li><p>stations: elenco delle centraline dell&#x2019;utente.</p></li>
<li><p>feedbacks: elenco delle recensioni dell&#x2019;utente.</p></li>
</ul></li>
<li><p>feedback - Rappresenta il modello della recensione. I suoi campi
sono:</p>
<ul>
<li><p>rating: valutazione della recensione.</p></li>
<li><p>provider: il provider a cui la recensione si riferisce.</p></li>
<li><p>user: utente che ha rilasciato la recensione.</p></li>
<li><p>creationData: data di creazione della recensione.</p></li>
<li><p>forecastData: data della previsione su cui si &#xE8; basata la valutazione
della recensione.</p></li>
<li><p>fields: eventuali campi della previsione da valutare.</p></li>
<li><p>description: eventuale descrizione.</p></li>
</ul></li>
<li><p>location - Rappresenta il modello della localit&#xE0;. I suoi campi
sono:</p>
<ul>
<li><p>name: nome della localit&#xE0;.</p></li>
<li><p>position: posizione della localit&#xE0; espressa in coordinate geografiche
tramite latitudine e longitudine.</p></li>
</ul>
<p>Serve per memorizzare le richieste di previsioni che sono state
fatte.</p></li>
<li><p>provider - Rappresenta il modello del provider che fornisce il meteo. I
suoi campi sono:</p>
<ul>
<li><p>name: nome del provider.</p></li>
<li><p>average: la media di tutte le valutazioni date al provider.</p></li>
<li><p>feedbacks: lista di tutte le recensioni del provider date dagli
utenti.</p></li>
</ul></li>
<li><p>station - Rappresenta il modello della centralina. I suoi campi
sono:</p>
<ul>
<li><p>authKey: valore usato per autenticare richieste alla stazione.</p></li>
<li><p>name: nome della centralina.</p></li>
<li><p>owner: proprietario della centralina.</p></li>
<li><p>position: nome della localit&#xE0; in cui si trova.</p></li>
<li><p>url: url della centralina.</p></li>
</ul></li>
</ul>
</section>
<section id="foostorage" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2"><span class="header-section-number">6.2.2</span>
Storage</h3>
<p>Gli storage sono dei componenti che si occupano di manipolare i dati e i
modelli dell&#x2019;applicazione nascondendo il supporto di memorizzazione degli
stessi.</p>
<ul>
<li><p><span>database storage</span> - storage che usa come supporto di
memorizzazione il database.</p></li>
<li><p><span>webservice storage</span> - storage che richiede i dati ad un web
service esterno. Nella nostro caso si tratta di gestire le richieste da
provider esterni e recuperarne le previsioni.</p></li>
</ul>
</section>
<section id="foocontrollers" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3"><span class="header-section-number">6.2.3</span>
Controllers</h3>
<p>I Controllers contengono la logica applicativa e si occupano di fornire i
dati estratti dagli Storage agli utenti. Tra i compiti svolti rientrano
l&#x2019;invio di email e le risposte alle chiamate HTTP dei clients.</p>
</section>
<section id="fooroutes" class="level3" data-number="6.2.4">
<h3 data-number="6.2.4"><span class="header-section-number">6.2.4</span>
Routes</h3>
<p>Le Routes si occupano di prendere in carico le chiamate HTTP in entrata e
inoltrarle ai giusti Controllers. Anche le richieste che arrivano dalle
Sockets per gestire le previsioni del meteo vengono smistate da questi
componenti.</p>
</section>
</section>
</section>
<section id="fooimplementazione" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span>
Implementazione</h1>
<section id="fooserver" class="level2" data-number="7.1">
<h2 data-number="7.1"><span class="header-section-number">7.1</span>
Server</h2>
<p>Per la parte backend ci si &#xE8; avvalsi della tecnologia Node.js, Express e
MongoDb per il database. Per l&#x2019;invio delle email &#xE8; stato utilizzato un modulo
di Node.js chiamato Nodemailer.</p>
<p>Per supportare la comunicazione bidirezionale tra client e server ci si &#xE8;
avvalsi della libreria Sockets.Io.</p>
<p>Si riportano ora alcuni aspetti implementativi del server che si ritiene
opportuno evidenziare.</p>
<section id="fooforecast-e-socket.io" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1"><span class="header-section-number">7.1.1</span>
Forecast e Socket.IO</h3>
<p>All&#x2019;avvio del Server, viene subito richiamata la funzione di Sockets.IO per
rimanere in ascolto di nuove connessioni da parte delle sockets dei clients
per richiedere le previsioni meteo:</p>
<div class="sourceCode" id="foocb1" data-language="Javascript"><pre
class="sourceCode Javascript"><code class="sourceCode javascript"><span id="foocb1-1"><a href="#foocb1-1" aria-hidden="true" tabindex="-1"></a>io<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;connection&quot;</span><span class="op">,</span> (socket) <span class="kw">=&gt;</span> {</span>
<span id="foocb1-2"><a href="#foocb1-2" aria-hidden="true" tabindex="-1"></a>  socket<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;current&quot;</span><span class="op">,</span> (arg) <span class="kw">=&gt;</span> {</span>
<span id="foocb1-3"><a href="#foocb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (arg<span class="op">.</span><span class="at">locality</span>) {</span>
<span id="foocb1-4"><a href="#foocb1-4" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Retrieve forecasts by locality.</span></span>
<span id="foocb1-5"><a href="#foocb1-5" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (arg<span class="op">.</span><span class="at">latitude</span> <span class="op">&amp;&amp;</span> arg<span class="op">.</span><span class="at">longitude</span>) {</span>
<span id="foocb1-6"><a href="#foocb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Retrieve forecasts by geolocation position.</span></span>
<span id="foocb1-7"><a href="#foocb1-7" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="foocb1-8"><a href="#foocb1-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="foocb1-9"><a href="#foocb1-9" aria-hidden="true" tabindex="-1"></a>  socket<span class="op">.</span><span class="fu">on</span>(<span class="st">&quot;threedays&quot;</span><span class="op">,</span> (arg) <span class="kw">=&gt;</span> {</span>
<span id="foocb1-10"><a href="#foocb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Same as before.</span></span>
<span id="foocb1-11"><a href="#foocb1-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="foocb1-12"><a href="#foocb1-12" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<p>In seguito, quando i risultati delle richieste di previsioni meteo ai
servizi esterni sono pronti, vengono immediatamente inoltrati ai clients
tramite gli eventi delle sockets:</p>
<div class="sourceCode" id="foocb2" data-language="Javascript"><pre
class="sourceCode Javascript"><code class="sourceCode javascript"><span id="foocb2-1"><a href="#foocb2-1" aria-hidden="true" tabindex="-1"></a>openWeatherStorage</span>
<span id="foocb2-2"><a href="#foocb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">currentByLocation</span>(latitude<span class="op">,</span> longitude)</span>
<span id="foocb2-3"><a href="#foocb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>((result) <span class="kw">=&gt;</span> {</span>
<span id="foocb2-4"><a href="#foocb2-4" aria-hidden="true" tabindex="-1"></a>    socket<span class="op">.</span><span class="fu">emit</span>(<span class="st">&quot;result&quot;</span><span class="op">,</span> <span class="op">...</span>)<span class="op">;</span></span>
<span id="foocb2-5"><a href="#foocb2-5" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="foocb2-6"><a href="#foocb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>((error) <span class="kw">=&gt;</span> {</span>
<span id="foocb2-7"><a href="#foocb2-7" aria-hidden="true" tabindex="-1"></a>    socket<span class="op">.</span><span class="fu">emit</span>(<span class="st">&quot;forecast_error&quot;</span><span class="op">,</span> <span class="op">...</span>)<span class="op">;</span></span>
<span id="foocb2-8"><a href="#foocb2-8" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="foocb2-9"><a href="#foocb2-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="foocb2-10"><a href="#foocb2-10" aria-hidden="true" tabindex="-1"></a>troposphereStorage</span>
<span id="foocb2-11"><a href="#foocb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">currentByLocation</span>(latitude<span class="op">,</span> longitude)</span>
<span id="foocb2-12"><a href="#foocb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">then</span>((result) <span class="kw">=&gt;</span> {</span>
<span id="foocb2-13"><a href="#foocb2-13" aria-hidden="true" tabindex="-1"></a>    socket<span class="op">.</span><span class="fu">emit</span>(<span class="st">&quot;result&quot;</span><span class="op">,</span> <span class="op">...</span>)<span class="op">;</span></span>
<span id="foocb2-14"><a href="#foocb2-14" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="foocb2-15"><a href="#foocb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">catch</span>((error) <span class="kw">=&gt;</span> {</span>
<span id="foocb2-16"><a href="#foocb2-16" aria-hidden="true" tabindex="-1"></a>    socket<span class="op">.</span><span class="fu">emit</span>(<span class="st">&quot;forecast_error&quot;</span><span class="op">,</span> <span class="op">...</span> )<span class="op">;</span></span>
<span id="foocb2-17"><a href="#foocb2-17" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span></code></pre></div>
</section>
<section id="fooautenticazione" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2"><span class="header-section-number">7.1.2</span>
Autenticazione</h3>
<section id="foojson-web-token-jwt" class="level4" data-number="7.1.2.1">
<h4 data-number="7.1.2.1"><span class="header-section-number">7.1.2.1</span>
JSON Web Token JWT</h4>
<p>Per l&#x2019;autenticazione &#xE8; stato deciso di utilizzare il sistema JWT (Json Web
Token), firmati dal backend. Al momento del login il server rilascia un token
al client contenente dei dati utili all&#x2019;autenticazione. Il client, inviando al
server il token ricevuto assieme alle richieste che necessitano di autenticare
il richiedente, potr&#xE0; essere riconosciuto e verificato dal server. In questa
maniera il server rimane stateless, dato che le informazioni
dell&#x2019;autenticazione devono essere necessariamente inviate ad ogni richiesta da
parte del client.</p>
<div class="sourceCode" id="foocb3" data-language="Javascript"><pre
class="sourceCode Javascript"><code class="sourceCode javascript"><span id="foocb3-1"><a href="#foocb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">// generate token when user log in</span></span>
<span id="foocb3-2"><a href="#foocb3-2" aria-hidden="true" tabindex="-1"></a>userSchema<span class="op">.</span><span class="at">methods</span><span class="op">.</span><span class="at">generateToken</span> <span class="op">=</span> <span class="kw">function</span> (cb) {</span>
<span id="foocb3-3"><a href="#foocb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> user <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="foocb3-4"><a href="#foocb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> token <span class="op">=</span> jwt<span class="op">.</span><span class="fu">sign</span>({ <span class="dt">_id</span><span class="op">:</span> user<span class="op">.</span><span class="at">_id</span> }<span class="op">,</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">SECRET</span>)<span class="op">;</span></span>
<span id="foocb3-5"><a href="#foocb3-5" aria-hidden="true" tabindex="-1"></a>  user<span class="op">.</span><span class="at">token</span> <span class="op">=</span> token<span class="op">;</span></span>
<span id="foocb3-6"><a href="#foocb3-6" aria-hidden="true" tabindex="-1"></a>  user<span class="op">.</span><span class="fu">save</span>(<span class="kw">function</span> (err<span class="op">,</span> user) {</span>
<span id="foocb3-7"><a href="#foocb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (err) <span class="cf">return</span> <span class="fu">cb</span>(err)<span class="op">;</span></span>
<span id="foocb3-8"><a href="#foocb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cb</span>(<span class="kw">null</span><span class="op">,</span> user)<span class="op">;</span></span>
<span id="foocb3-9"><a href="#foocb3-9" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="foocb3-10"><a href="#foocb3-10" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="foocb3-11"><a href="#foocb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb3-12"><a href="#foocb3-12" aria-hidden="true" tabindex="-1"></a><span class="co">// find by token</span></span>
<span id="foocb3-13"><a href="#foocb3-13" aria-hidden="true" tabindex="-1"></a>userSchema<span class="op">.</span><span class="at">statics</span><span class="op">.</span><span class="at">findByToken</span> <span class="op">=</span> <span class="kw">function</span> (token<span class="op">,</span> cb) {</span>
<span id="foocb3-14"><a href="#foocb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> user <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="foocb3-15"><a href="#foocb3-15" aria-hidden="true" tabindex="-1"></a>  jwt<span class="op">.</span><span class="fu">verify</span>(token<span class="op">,</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">SECRET</span><span class="op">,</span> <span class="kw">function</span> (err<span class="op">,</span> decode) {</span>
<span id="foocb3-16"><a href="#foocb3-16" aria-hidden="true" tabindex="-1"></a>    user<span class="op">.</span><span class="fu">findOne</span>({ <span class="dt">_id</span><span class="op">:</span> decode<span class="op">,</span> <span class="dt">token</span><span class="op">:</span> token }<span class="op">,</span></span>
<span id="foocb3-17"><a href="#foocb3-17" aria-hidden="true" tabindex="-1"></a>      <span class="kw">function</span> (err<span class="op">,</span> user) {</span>
<span id="foocb3-18"><a href="#foocb3-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (err) <span class="cf">return</span> <span class="fu">cb</span>(err)<span class="op">;</span></span>
<span id="foocb3-19"><a href="#foocb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cb</span>(<span class="kw">null</span><span class="op">,</span> user)<span class="op">;</span></span>
<span id="foocb3-20"><a href="#foocb3-20" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="foocb3-21"><a href="#foocb3-21" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="foocb3-22"><a href="#foocb3-22" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="foocb3-23"><a href="#foocb3-23" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="foocb3-24"><a href="#foocb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb3-25"><a href="#foocb3-25" aria-hidden="true" tabindex="-1"></a><span class="co">//delete token, when the user logout</span></span>
<span id="foocb3-26"><a href="#foocb3-26" aria-hidden="true" tabindex="-1"></a>userSchema<span class="op">.</span><span class="at">methods</span><span class="op">.</span><span class="at">deleteToken</span> <span class="op">=</span> <span class="kw">function</span> (token<span class="op">,</span> cb) {</span>
<span id="foocb3-27"><a href="#foocb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> user <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="foocb3-28"><a href="#foocb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb3-29"><a href="#foocb3-29" aria-hidden="true" tabindex="-1"></a>  user<span class="op">.</span><span class="fu">update</span>({ <span class="dt">$unset</span><span class="op">:</span> { <span class="dt">token</span><span class="op">:</span> <span class="dv">1</span> } }<span class="op">,</span></span>
<span id="foocb3-30"><a href="#foocb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> (err<span class="op">,</span> user) {</span>
<span id="foocb3-31"><a href="#foocb3-31" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (err) <span class="cf">return</span> <span class="fu">cb</span>(err)<span class="op">;</span></span>
<span id="foocb3-32"><a href="#foocb3-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cb</span>(<span class="kw">null</span><span class="op">,</span> user)<span class="op">;</span></span>
<span id="foocb3-33"><a href="#foocb3-33" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="foocb3-34"><a href="#foocb3-34" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="foocb3-35"><a href="#foocb3-35" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<p>Per facilitare l&#x2019;utilizzo della validazione del token JWT &#xE8; stato prodotto
un middleware facilmente inseribile nel flusso di Express. Questo middleware
recupera il token disponibile dai cookies. Se lo trova associato ad un utente
nel database, recupera i dati su di esso e li inserisce nella richiesta per
renderli disponibili nell&#x2019;handler della route desiderata.</p>
<div class="sourceCode" id="foocb4" data-language="Javascript"><pre
class="sourceCode Javascript"><code class="sourceCode javascript"><span id="foocb4-1"><a href="#foocb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">let</span> auth <span class="op">=</span> (req<span class="op">,</span> res<span class="op">,</span> next) <span class="kw">=&gt;</span> {</span>
<span id="foocb4-2"><a href="#foocb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> token <span class="op">=</span> req<span class="op">.</span><span class="at">cookies</span><span class="op">.</span><span class="at">auth</span><span class="op">;</span></span>
<span id="foocb4-3"><a href="#foocb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>token) {</span>
<span id="foocb4-4"><a href="#foocb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Response the missing token result.</span></span>
<span id="foocb4-5"><a href="#foocb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> res<span class="op">.</span><span class="fu">status</span>(<span class="dv">401</span>)<span class="op">.</span><span class="fu">json</span>({</span>
<span id="foocb4-6"><a href="#foocb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">error</span><span class="op">:</span> <span class="st">&quot;Missing auth token in the request.&quot;</span><span class="op">,</span></span>
<span id="foocb4-7"><a href="#foocb4-7" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="foocb4-8"><a href="#foocb4-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="foocb4-9"><a href="#foocb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb4-10"><a href="#foocb4-10" aria-hidden="true" tabindex="-1"></a>  User<span class="op">.</span><span class="fu">findByToken</span>(token<span class="op">,</span> (err<span class="op">,</span> user) <span class="kw">=&gt;</span> {</span>
<span id="foocb4-11"><a href="#foocb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (err) <span class="cf">throw</span> err<span class="op">;</span></span>
<span id="foocb4-12"><a href="#foocb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>user)</span>
<span id="foocb4-13"><a href="#foocb4-13" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Notify the unauthorized access.</span></span>
<span id="foocb4-14"><a href="#foocb4-14" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> res<span class="op">.</span><span class="fu">status</span>(<span class="dv">403</span>)<span class="op">.</span><span class="fu">json</span>({</span>
<span id="foocb4-15"><a href="#foocb4-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt">error</span><span class="op">:</span> <span class="st">&quot;Didn&#39;t found any user matching the auth token provided.&quot;</span><span class="op">,</span></span>
<span id="foocb4-16"><a href="#foocb4-16" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="foocb4-17"><a href="#foocb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb4-18"><a href="#foocb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Use the found data in next handler.</span></span>
<span id="foocb4-19"><a href="#foocb4-19" aria-hidden="true" tabindex="-1"></a>    req<span class="op">.</span><span class="at">token</span> <span class="op">=</span> token<span class="op">;</span></span>
<span id="foocb4-20"><a href="#foocb4-20" aria-hidden="true" tabindex="-1"></a>    req<span class="op">.</span><span class="at">user</span> <span class="op">=</span> user<span class="op">;</span></span>
<span id="foocb4-21"><a href="#foocb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">next</span>()<span class="op">;</span></span>
<span id="foocb4-22"><a href="#foocb4-22" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="foocb4-23"><a href="#foocb4-23" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
</section>
<section id="foodati-sensibili" class="level4" data-number="7.1.2.2">
<h4 data-number="7.1.2.2"><span class="header-section-number">7.1.2.2</span>
Dati sensibili</h4>
<p>Si &#xE8; avuta la necessit&#xE0; anche di gestire alcuni dati sensibili dell&#x2019;utente,
come le password. E&#x2019; stato utilizzato bcrypt, un modulo contenente le pi&#xF9;
comuni funzioni di hashing per salvare le password in maniera sicura nel
database; viene utilizzato al momento della registrazione di un utente quando
si deve salvare la password (viene salvato il suo hash con il relativo valore
di sale), e al login quando bisogna confrontare la password ricevuta
dall&#x2019;utente con quella salvata.</p>
<div class="sourceCode" id="foocb5" data-language="Javascript"><pre
class="sourceCode Javascript"><code class="sourceCode javascript"><span id="foocb5-1"><a href="#foocb5-1" aria-hidden="true" tabindex="-1"></a>userSchema<span class="op">.</span><span class="fu">pre</span>(<span class="st">&quot;save&quot;</span><span class="op">,</span> <span class="kw">function</span> (next) {</span>
<span id="foocb5-2"><a href="#foocb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">var</span> user <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="foocb5-3"><a href="#foocb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (user<span class="op">.</span><span class="fu">isModified</span>(<span class="st">&quot;password&quot;</span>)) {</span>
<span id="foocb5-4"><a href="#foocb5-4" aria-hidden="true" tabindex="-1"></a>    bcrypt<span class="op">.</span><span class="fu">genSalt</span>(salt<span class="op">,</span> <span class="kw">function</span> (err<span class="op">,</span> salt) {</span>
<span id="foocb5-5"><a href="#foocb5-5" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (err) <span class="cf">return</span> <span class="fu">next</span>(err)<span class="op">;</span></span>
<span id="foocb5-6"><a href="#foocb5-6" aria-hidden="true" tabindex="-1"></a>      bcrypt<span class="op">.</span><span class="fu">hash</span>(user<span class="op">.</span><span class="at">password</span><span class="op">,</span> salt<span class="op">,</span> <span class="kw">function</span> (err<span class="op">,</span> hash) {</span>
<span id="foocb5-7"><a href="#foocb5-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (err) <span class="cf">return</span> <span class="fu">next</span>(err)<span class="op">;</span></span>
<span id="foocb5-8"><a href="#foocb5-8" aria-hidden="true" tabindex="-1"></a>        user<span class="op">.</span><span class="at">password</span> <span class="op">=</span> hash<span class="op">;</span></span>
<span id="foocb5-9"><a href="#foocb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">next</span>()<span class="op">;</span></span>
<span id="foocb5-10"><a href="#foocb5-10" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="foocb5-11"><a href="#foocb5-11" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="foocb5-12"><a href="#foocb5-12" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="foocb5-13"><a href="#foocb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">next</span>()<span class="op">;</span></span>
<span id="foocb5-14"><a href="#foocb5-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="foocb5-15"><a href="#foocb5-15" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="foocb5-16"><a href="#foocb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb5-17"><a href="#foocb5-17" aria-hidden="true" tabindex="-1"></a>userSchema<span class="op">.</span><span class="at">methods</span><span class="op">.</span><span class="at">comparePassword</span> <span class="op">=</span> <span class="kw">function</span> (password<span class="op">,</span> cb) {</span>
<span id="foocb5-18"><a href="#foocb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Compare the user password when user tries to login</span></span>
<span id="foocb5-19"><a href="#foocb5-19" aria-hidden="true" tabindex="-1"></a>  bcrypt<span class="op">.</span><span class="fu">compare</span>(password<span class="op">,</span> <span class="kw">this</span><span class="op">.</span><span class="at">password</span><span class="op">,</span> <span class="kw">function</span> (err<span class="op">,</span> isMatch) {</span>
<span id="foocb5-20"><a href="#foocb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (err) <span class="cf">return</span> <span class="fu">cb</span>(next)<span class="op">;</span></span>
<span id="foocb5-21"><a href="#foocb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cb</span>(<span class="kw">null</span><span class="op">,</span> isMatch)<span class="op">;</span></span>
<span id="foocb5-22"><a href="#foocb5-22" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="foocb5-23"><a href="#foocb5-23" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
</section>
</section>
</section>
<section id="fooclient" class="level2" data-number="7.2">
<h2 data-number="7.2"><span class="header-section-number">7.2</span>
Client</h2>
<p>Per lo sviluppo del Client &#xE8; stato usato Vuetify, un framework di
componenti di Material Design per Vue. js che consente agli sviluppatori di
creare incredibili applicazioni in modo rapido ed efficiente.</p>
<p>Per gestire lo stato dell&#x2019;applicazione, abbiamo avuto la necessit&#xE0; di
sfruttare il framework Vuex. Esso fornisce un&#x2019;interfaccia unica per tutta
l&#x2019;applicazione per interrrogare lo stato e modificarlo. Questo permette di
avere un&#x2019;unica fonte di verit&#xE0; dei dati e ne preserva maggiormente
l&#x2019;integrit&#xE0;.</p>
<p>Graficamente potremo delinearne cos&#xEC; la struttura:</p>
<figure>
<img src="Images/store.png" id="foofig:Store" style="width:70.0%"
alt="Le azioni sono fuori dallo store e diventano servizi" />
<figcaption aria-hidden="true">Le azioni sono fuori dallo store e diventano
servizi</figcaption>
</figure>
<p>Il nostro stato &#xE8; rappresentato dal listato sottostante, in particolare
abbiamo memorizzato la visibilit&#xE0; della barra di navigazione e lo stato di
autenticazione dell&#x2019;utente.</p>
<div class="sourceCode" id="foocb6" data-language="Javascript"><pre
class="sourceCode Javascript"><code class="sourceCode javascript"><span id="foocb6-1"><a href="#foocb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> state <span class="op">=</span> {</span>
<span id="foocb6-2"><a href="#foocb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">drawer</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="foocb6-3"><a href="#foocb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">user</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="foocb6-4"><a href="#foocb6-4" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<p>Lo stato viene quindi letto quando bisogna mostrare o no la barra di
navigazione oppure capire quando un utente &#xE8; autenticato oppure no.</p>
</section>
<section id="foocentralina" class="level2" data-number="7.3">
<h2 data-number="7.3"><span class="header-section-number">7.3</span>
Centralina</h2>
<p>L&#x2019;applicativo per la centralina &#xE8; stato sviluppato anch&#x2019;esso con le
tecnologie Node.JS ed Express. Essendo un progetto di simulazione di una
centralina reale, dispone di solamente due funzioni: una per ottenere info
sullo stato del dispositivo e una per ottenere le condizioni meteo correnti
(generate staticamente, data la natura del progetto).</p>
<div class="sourceCode" id="foocb7" data-language="Javascript"><pre
class="sourceCode Javascript"><code class="sourceCode javascript"><span id="foocb7-1"><a href="#foocb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;express&quot;</span>)<span class="op">;</span></span>
<span id="foocb7-2"><a href="#foocb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> weather <span class="op">=</span> <span class="pp">require</span>(<span class="st">&quot;./storage/weather.storage&quot;</span>)<span class="op">;</span></span>
<span id="foocb7-3"><a href="#foocb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb7-4"><a href="#foocb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="foocb7-5"><a href="#foocb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb7-6"><a href="#foocb7-6" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/current&quot;</span><span class="op">,</span> weather<span class="op">.</span><span class="at">readAll</span>)<span class="op">;</span></span>
<span id="foocb7-7"><a href="#foocb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="foocb7-8"><a href="#foocb7-8" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">get</span>(<span class="st">&quot;/info&quot;</span><span class="op">,</span> (req<span class="op">,</span> res<span class="op">,</span> next) <span class="kw">=&gt;</span></span>
<span id="foocb7-9"><a href="#foocb7-9" aria-hidden="true" tabindex="-1"></a>  res<span class="op">.</span><span class="fu">status</span>(<span class="dv">200</span>)<span class="op">.</span><span class="fu">json</span>({</span>
<span id="foocb7-10"><a href="#foocb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span></span>
<span id="foocb7-11"><a href="#foocb7-11" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="foocb7-12"><a href="#foocb7-12" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
</section>
<section id="fooprodottofinale" class="level2" data-number="7.4">
<h2 data-number="7.4"><span class="header-section-number">7.4</span> Prodotto
Finale</h2>
<p>Il prodotto finale ha subito delle evoluzioni rispetto al <a
href="https://github.com/Weather-Vortex/WeatherVortex-Report/raw/main/MockUps/WeatherVortex-Mockup.pdf">mockup</a>
ma segue comunque le linee guida imposte. Nonostante la resa grafica sia stata
rivoluzionata, la user experience e i meccanismi di navigazione del sito sono
rimasti gli stessi. Il cambiamento pi&#xF9; degno di nota &#xE8; stato lo spostare le
voci del men&#xF9; dalla barra in alto all&#x2019;apposito scomparto a sinistra. Qui di
seguito sono riportati gli screenshot delle schermate pi&#xF9; importanti.</p>
<figure>
<img src="Images/homepage.PNG" id="foofig:imHome" style="width:100.0%"
alt="Pagina Home finale" />
<figcaption aria-hidden="true">Pagina Home finale</figcaption>
</figure>
<p>La home del sito &#xE8; la pagina visivamente pi&#xF9; importante, in quanto sar&#xE0; la
prima che l&#x2019;utente visualizza e quella che vedr&#xE0; pi&#xF9; spesso. Per facilitare
l&#x2019;esperienza, il primo box disponibile &#xE8; quello delle previsioni. Questa
scelta &#xE8; stata fatta soprattutto per incentivare i nuovi utenti a provare le
funzionalit&#xE0; del sito immediatamente, senza che debbano sforzarsi a cercarle.
Oltre all&#x2019;immediatezza intuitiva la scelta aiuta a velocizzare le operazioni
per i visitatori assidui del sito, che vogliono raggiungere il risultato
desiderato con il minore numero di click possibili.</p>
<p>Sotto all&#x2019;elemento per le previsioni sono disposti due pulsanti di Login e
Registrazione. Questo funge da incentivo a creare un account o a effettuarvici
l&#x2019;accesso. Qualora l&#x2019;utente effettui il login e ritorni sulla home, i pulsanti
non saranno pi&#xF9; visualizzati.</p>
<figure>
<img src="Images/Login1.PNG" id="foofig:imLogin" style="width:100.0%"
alt="Pagina Login finale" />
<figcaption aria-hidden="true">Pagina Login finale</figcaption>
</figure>
<p>La schermata di login ha una resa molto funzionale e chiara. Questa scelta
ha lo scopo di rendere semplice e intuitiva l&#x2019;operazione chiave di collegarsi
al proprio account, senza che l&#x2019;utente possa cliccare altrove e non portarla a
termine.</p>
<figure>
<img src="Images/PrivateProfile.PNG" id="foofig:PrivProf" style="width:100.0%"
alt="Pagina Profilo Privato finale" />
<figcaption aria-hidden="true">Pagina Profilo Privato finale</figcaption>
</figure>
<p>Il profilo privato permette di gestire i propri dati. Un design tabulare &#xE8;
stato scelto per rendere chiare le varie operazioni possibili di modifica e
cancellazione. Tramite le due tabelle l&#x2019;utente pu&#xF2; visionare immediatamente i
feedback rilasciati e quali centraline siano collegate al suo profilo.</p>
<figure>
<img src="Images/ForecastIn.PNG" id="foofig:imForecast" style="width:100.0%"
alt="Pagina Previsioni finale" />
<figcaption aria-hidden="true">Pagina Previsioni finale</figcaption>
</figure>
<p>La pagina delle previsioni permette di selezionare una posizione e
scegliere tra la previsione corrente e quella futura fino a 3 giorni. Nella
barra di ricerca &#xE8; possibile scrivere il nome di una localit&#xE0; o passare
direttamente le coordinate. Qualora si volesse avere le previsioni nella
posizione corrente &#xE8; possibile chiedere la geolocalizzazione.</p>
<p>La pagina delle previsioni attuali permette di comparare facilmente le
differenti previsioni dei provider. In alto &#xE8; disponibile sempre la barra di
ricerca geografica per cambiare localit&#xE0;. Un&#x2019;ulteriore barra di ricerca
fornisce la possibilit&#xE0; di ricercare uno specifico provider o centralina
digitando il nome o parte di esso.</p>
<p>La card centrale fornisce i dati aggregati. La stima viene fatta prendendo
la media dei valori e la previsione con frequenza maggiore.</p>
<figure>
<img src="Images/Forecast3.PNG" id="foofig:imForecast1" style="width:100.0%"
alt="Pagina Previsioni attuali finale" />
<figcaption aria-hidden="true">Pagina Previsioni attuali finale</figcaption>
</figure>
<figure>
<img src="Images/Forecast3days.PNG" id="foofig:imForecast2"
style="width:100.0%" alt="Pagina Previsioni per tre giorni finale" />
<figcaption aria-hidden="true">Pagina Previsioni per tre giorni
finale</figcaption>
</figure>
<p>La pagina con le previsioni future segue lo stesso schema della pagina
delle previsioni attuali. La scelta &#xE8; stata presa per facilitare l&#x2019;utente per
permettergli di decidere di scegliere la finestra temporale di cui sapere le
previsioni. Inoltre, sono presenti dei pulsanti per poter selezionare le 3
giornate successive e uno slider per poter decidere anche l&#x2019;orario.</p>
<figure>
<img src="Images/feedback.PNG" id="foofig:imFeedbacks" style="width:100.0%"
alt="Pagina Feedback finale" />
<figcaption aria-hidden="true">Pagina Feedback finale</figcaption>
</figure>
<p>La pagina dei feedback raccoglie tutte le recensioni lasciate dagli utenti
divise per provider. Anche qui &#xE8; possibile ricercarne uno con l&#x2019;apposita
barra. Cliccando sull&#x2019;icona di un utente si viene indirizzati al suo profilo
pubblico. Qualora si sia autenticati &#xE8; possibile lasciare una recensione
direttamente dal pulsante sottostante.</p>
<figure>
<img src="Images/about.PNG" id="foofig:imAbout" style="width:100.0%"
alt="Pagina About finale" />
<figcaption aria-hidden="true">Pagina About finale</figcaption>
</figure>
</section>
</section>
<section id="footesting-e-performance" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Testing e
Performance</h1>
<p>Lo sviluppo delle applicazioni web a livello professionale richiede la
qualit&#xE0; e la robustezza del codice che &#xE8; stato prodotto. Per avere delle
metriche concrete su tali metriche, &#xE8; necessario eseguire intensivamente ed
estensivamente test sul prodotto, sia automatici che manuali.</p>
<section id="foounit-test" class="level2" data-number="8.1">
<h2 data-number="8.1"><span class="header-section-number">8.1</span> Unit
Test</h2>
<p>Le parti pi&#xF9; importanti inerenti la logica di business sono stati testati
con gli unit test per migliorarne la robustezza e l&#x2019;affidabilit&#xE0;. Molte
componenti dell&#x2019;applicativo Server sono state sviluppate con un approccio Test
Driven Development e sono state controllate molte volte prima di essere messe
in produzione.</p>
<p>In generale si &#xE8; cercato di tenere un approccio sistematico per affrontare
i problemi:</p>
<ul>
<li><p>Si cercava di modellare in modo il pi&#xF9; reale possibile le entit&#xE0; che si
sarebbero manipolate successivamente, cercando di capire il dominio del
problema e quali fossero tutti i dati di cui si avesse bisogno;</p></li>
<li><p>Successivamente si sviluppava il componente che sarebbe stato delegato
a interagire principalmente con la base dati delle entit&#xE0; appena modellate.
Creati i test automatici per controllare che i dati venissero manipolati
correttamente a seconda delle necessit&#xE0;, solamente in un secondo momento, dopo
aver appurato il fallimento dei test appena scritti, si sarebbe proceduto a
scrivere il codice necessario per farli riuscire;</p></li>
<li><p>Allo stesso modo, si sviluppavano anche i componenti della logica di
business.</p></li>
<li><p>Infine, al manifestarsi di ulteriori problemi e malfunzionamenti, si &#xE8;
sempre cercato innanzitutto di comprendere se ci fossero stati dei problemi
nell&#x2019;implementazione dei test e che le loro funzionalit&#xE0; fossero quelle che ci
si aspettava. In tal caso, allora si procedeva alla stesura di altri test
automatici che permettessero di riprodurre il problema e risolverlo.</p></li>
</ul>
<section id="foobackend-1" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1"><span class="header-section-number">8.1.1</span>
Backend</h3>
<p>Il backend utilizza il testing stack Mocha + Chai + Sinon.</p>
<p>Mocha &#xE8; il testing framework ricco e semplice che consente di creare
facilmente degli unit test eloquenti. Chai &#xE8; la libreria di assertions BDD/TDD
che consente di creare le asserzioni multi-paradigma per i test. Tali
asserzioni rendono i test pi&#xF9; leggibili e forniscono messaggi di errore
migliori.</p>
<p>Sinon &#xE8; la libreria per creare e gestire i test spies, stubs e mocks da
utilizzare nei test. Nel nostro caso &#xE8; stato utilizzato soltanto per simulare
l&#x2019;invio delle email.</p>
<p>Durante lo sviluppo del backend &#xE8; stata adoperata una collection Postman
per testare tutte le varie chiamate al server anche in assenza
dell&#x2019;applicativo client definitivo, in attesa di sviluppo.</p>
</section>
</section>
<section id="foouser-assurance-test" class="level2" data-number="8.2">
<h2 data-number="8.2"><span class="header-section-number">8.2</span> User
Assurance Test</h2>
<p>Alla fine della realizzazione del progetto tutti i membri del team hanno
testato il sistema integrale per decidere se poteva essere accettato o meno.
Ci&#xF2; ha permesso di riconoscere alcune inconsistenze e aspetti poco chiari e di
sistemarli. Inoltre la piattaforma &#xE8; stata fatta provare a degli utenti che
non hanno seguito lo sviluppo (e che quindi non sono soggetti ad un bias
cognitivo come quello sviluppato da noi programmatori). Gli utenti, inoltre,
hanno contribuito non solo al testing finale, ma a tutto lo sviluppo del sito.
Sono stati interrogati periodicamente fornendo passo passo dei feedback
prezioni e delle dritte utili per raggiungere una UX appagante.</p>
</section>
</section>
<section id="foodeployment" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span>
Deployment</h1>
<p>In questo capitolo viene spiegato come scaricare e utilizzare la
piattaforma WeatherVortex. Essa &#xE8; consultabile a questo link: <a
href="https://github.com/Weather-Vortex">WeatherVortex Organization</a>.</p>
<section id="foogithub-pages-e-heroku" class="level2" data-number="9.1">
<h2 data-number="9.1"><span class="header-section-number">9.1</span> Github
pages e Heroku</h2>
<p>Nella prima visione del progetto, era stato pensato effettuare il deploy
del progetto Client sulle <a href="https://pages.github.com/">Github Pages</a>
e quello del progetto Server su <a
href="https://www.heroku.com/home">Heroku</a>.</p>
<p><strong>Github Pages</strong> &#xE8; una funzionalit&#xE0; di Github che permette di
generare e ospitare un sito web scritto con le tecnologie HTML, CSS e JS
memorizzato nel repository su Github. <strong>Heroku</strong> &#xE8; uno servizio
PaaS progettato per aiutare a realizzare e distribuire applicazioni online. Il
piano gratuito per entrambi questi ambienti infatti sarebbe stato
sufficente.</p>
<p>Entrambe si integrano con il repository Github per rendere semplice il
deploy. Infatti, ad ogni commit sul branch main dei repository, avviene in
automatico la compilazione e, se ha successo, le applicazioni vengono
pubblicate.</p>
<p>Il sito sulle Github Pages &#xE8; visualizzabile a questo link:</p>
<p><a
href="https://weather-vortex.github.io/weather-vortex-client/">https://weather-vortex.github.io/weather-vortex-client/</a></p>
<section id="fooproblematiche-riscontrate" class="level3" data-number="9.1.1">
<h3 data-number="9.1.1"><span class="header-section-number">9.1.1</span>
Problematiche riscontrate</h3>
<p>Tuttavia, successivamente ci siamo accorti che l&#x2019;ambiente Pages non ci
permetteva di supportare anche l&#x2019;uso dei cookie con il parametro HTTP only
valorizzato a True perch&#xE9; il dominio github.io &#xE8; elencato in una reserved list
e i browser non permettono di salvare cookies di quel tipo in questi domini a
meno che non provengano dal dominio stesso. Questa configurazione quindi si &#xE8;
dimostrata inadeguata ai fini del progetto, dato che il dominio dal quale
sarebbero arrivati i cookies di autenticazione corrisponde ad un altro
(https://weather-vortex-server.herokuapp.com/). Abbiamo dovuto quindi trovare
un&#x2019;altra modalit&#xE0; che non richiedesse di stravolgere l&#x2019;architettura del nostro
sistema senza rinunciare alla sicurezza.</p>
<p>Data la presenza in tutti i repository dei file Dockerfile per la creazione
delle immagini Docker e l&#x2019;esecuzione in containers come visto a lezione,
abbiamo pensato di sfruttare tali funzionalit&#xE0; con l&#x2019;aggiunta dell&#x2019;applicativo
<a href="https://docs.docker.com/compose/">Docker Compose</a> per la
dimostrazione in sede d&#x2019;esame.</p>
</section>
</section>
<section id="foodocker-e-compose" class="level2" data-number="9.2">
<h2 data-number="9.2"><span class="header-section-number">9.2</span> Docker e
Compose</h2>
<p>Per dispiegare tutti i componenti utili per l&#x2019;applicazione &#xE8; stato
impiegato il gestore di container Docker e la sua estensione
Docker-compose.</p>
<p>Per ciascun componente del sistema &#xE8; stato creato il file
<em>Dockerfile</em>, contenente le istruzioni per generare l&#x2019;immagine dove il
componente possa essere eseguito.</p>
<p>Per l&#x2019;immagine dell&#x2019;applicativo Server e Centralina &#xE8; stata richiesta una
configurazione semplice e lineare, come quella vista al seminario a
lezione:</p>
<pre><code>FROM node:16-alpine

...

CMD [&quot;npm&quot;, &quot;start&quot;]
</code></pre>
<p>Per l&#x2019;immagine dell&#x2019;applicativo Client &#xE8; stato necessario programmare due
fasi di creazione dell&#x2019;immagine, come nel seguente listato:</p>
<pre><code># build stage

FROM node:lts-alpine as build-stage

...

RUN npm run build

# production stage

FROM nginx:stable-alpine as production-stage

...

CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]
</code></pre>
<p>Questo &#xE8; necessario perch&#xE9; per l&#x2019;applicativo con Vue &#xE8; richiesto l&#x2019;uso di
un reverse proxy per gestire la navigazione con il componente Vue-Router, ma
non in fase di build, dove basta soltanto partire da un&#x2019;immagine leggera per
snellire il processo.</p>
<p>Il repository contenente la configurazione Docker-Compose per Weather
Vortex &#xE8; pubblica e presente a questo link:</p>
<p><a
href="https://github.com/Weather-Vortex/docker-compose">https://github.com/Weather-Vortex/docker-compose</a>.</p>
<p>Dopo aver apportato le opportune configurazioni descritte nel file Readme
baster&#xE0; infatti il comando <strong>[sudo] docker-compose up</strong> per
avviare l&#x2019;intero sistema.</p>
</section>
</section>
<section id="foopiano-di-lavoro" class="level1" data-number="10">
<h1 data-number="10"><span class="header-section-number">10</span> Piano di
lavoro</h1>
<p>Il lavoro &#xE8; stato svolto utilizzando un approccio Scrum, con sprint
periodici, di cui uno iniziale incentrato sullo studio delle tecnologie. Un
diagramma di Gantt &#xE8; stato creato all&#x2019;inizio del progetto per definirne le
tempistiche. Inizialmente una buona dose di tempo &#xE8; stata impiegata per un
design dettagliato, per non incorrere in cambiamenti in corso d&#x2019;opera.
Inoltre, si &#xE8; prestata attenzione a costruire la relazione e la documentazione
passo passo durante il lavoro. Qui di seguito viene riportato lo schema
realizzato inizialmente.</p>
<figure>
<img src="DrawIo/GanttChart.png" id="foofig:Gantt" style="width:100.0%"
alt="Gantt Chart Programmato" />
<figcaption aria-hidden="true">Gantt Chart Programmato</figcaption>
</figure>
<p>Nonostante il programma dettagliato e le deadlines periodiche il progetto
verso la fine si &#xE8; dilazionato nel tempo. Lo si pu&#xF2; vedere chiaramente dalla
curva formata dal grafico. Riteniamo per&#xF2; che l&#x2019;allungamento dei tempi sia
dovuto anche a fattori esterni, quali l&#x2019;inizio delle lezioni e il sovrapporsi
di impegni non programmati. Di seguito &#xE8; riportato il reale andamento del
progetto nel tempo.</p>
<figure>
<img src="DrawIo/GanttChartReal.png" id="foofig:GanttReal"
style="width:100.0%" alt="Gantt Chart Effettivo" />
<figcaption aria-hidden="true">Gantt Chart Effettivo</figcaption>
</figure>
<section id="foosprints" class="level2" data-number="10.1">
<h2 data-number="10.1"><span class="header-section-number">10.1</span>
Sprints</h2>
<section id="foosvolgimento" class="level3" data-number="10.1.1">
<h3 data-number="10.1.1"><span class="header-section-number">10.1.1</span>
Svolgimento</h3>
<p>Gli sprint sono stati portati avanti nel seguente modo:</p>
<section id="foosprint-planning" class="level5" data-number="10.1.1.0.1">
<h5 data-number="10.1.1.0.1"><span
class="header-section-number">10.1.1.0.1</span> Sprint Planning</h5>
<p>Pianificazione a inizio sprint degli obiettivi, tempistiche e
responsabilit&#xE0; nel periodo dello sprint corrente. Diviso in due parti:</p>
<ul>
<li><p><strong>parte 1</strong> Viene raffinato e rivisto il product backlog,
viene effettuata la scelta dello sprint goal (what).</p></li>
<li><p><strong>parte 2</strong> Si decidono gli item e viene raffinato come
implementarli (how). Effettuato con solo il team senza la figura del product
owner</p></li>
</ul>
</section>
<section id="fooiterativo-daily-scrum" class="level5"
data-number="10.1.1.0.2">
<h5 data-number="10.1.1.0.2"><span
class="header-section-number">10.1.1.0.2</span> [Iterativo] Daily scrum</h5>
<p>Breve meeting svolto giornalmente. Viene utilizzato per gli aggiornamenti
sull&#x2019;andamento del progetto, senza scendere nei dettagli implementativi.</p>
</section>
<section id="foooccasionale-pair-programming" class="level5"
data-number="10.1.1.0.3">
<h5 data-number="10.1.1.0.3"><span
class="header-section-number">10.1.1.0.3</span> [Occasionale] Pair Programming
</h5>
<p>Utilizzato per risolvere problemi che causano il blocco di un componente
del team per parecchio tempo su una issue.</p>
</section>
<section id="foomeeting-finale" class="level5" data-number="10.1.1.0.4">
<h5 data-number="10.1.1.0.4"><span
class="header-section-number">10.1.1.0.4</span> Meeting finale</h5>
<p>Riflessioni e considerazioni finali sullo spint passato. Suggerimenti per
migliorare il prossimo. Diviso in tre parti:</p>
<ul>
<li><p><strong>Product backlog refinement</strong> aggiunta di dettagli e
riordino del product backlog</p></li>
<li><p><strong>Sprint review</strong> &#xE8; stato ispezionato l&#x2019;incremento, il
Minimum Viable Product o di risultati sul processo. Discernere cosa &#xE8; stato
fatto e cosa no.</p></li>
<li><p><strong>Retrospettiva</strong> Considerazioni sul team stesso e sui
miglioramenti per il prossimo sprint.</p></li>
</ul>
</section>
</section>
<section id="foosprint-0" class="level3" data-number="10.1.2">
<h3 data-number="10.1.2"><span class="header-section-number">10.1.2</span>
Sprint 0</h3>
<p>All&#x2019;interno dello <a
href="https://github.com/orgs/Weather-Vortex/projects/2">sprint 0</a> il focus
&#xE8; stato posto sull&#x2019;apprendimento delle tecnologie scelte pi&#xF9; dal punto di
vista tecnico. Inoltre &#xE8; stato impostato l&#x2019;ambiente di sviluppo, rendendolo
condiviso e unificato. Infine sono state definite le operazioni chiave per le
API REST, lo user data model e le procedure di user authentication, login e
register.</p>
<section id="foodeliverables" class="level5" data-number="10.1.2.0.1">
<h5 data-number="10.1.2.0.1"><span
class="header-section-number">10.1.2.0.1</span> Deliverables</h5>
<ul>
<li><p>architettura base server</p></li>
<li><p>scheletro relazione</p></li>
</ul>
</section>
</section>
<section id="foosprint-1" class="level3" data-number="10.1.3">
<h3 data-number="10.1.3"><span class="header-section-number">10.1.3</span>
Sprint 1</h3>
<p>All&#x2019;interno dello <a
href="https://github.com/orgs/Weather-Vortex/projects/3">sprint 1</a> il focus
&#xE8; stato sulla creazione del client, con l&#x2019;utilizzo di Vue per creare le pagine
base di esso e alcuni componenti chiave.</p>
<section id="foodeliverables-1" class="level5" data-number="10.1.3.0.1">
<h5 data-number="10.1.3.0.1"><span
class="header-section-number">10.1.3.0.1</span> Deliverables</h5>
<ul>
<li><p>Pagina 404</p></li>
<li><p>Pagina About</p></li>
<li><p>Menu</p></li>
</ul>
</section>
</section>
<section id="foosprint-2" class="level3" data-number="10.1.4">
<h3 data-number="10.1.4"><span class="header-section-number">10.1.4</span>
Sprint 2</h3>
<p>All&#x2019;interno dello <a
href="https://github.com/orgs/Weather-Vortex/projects/4">sprint 2</a> sono
stati fatti cambiamenti e miglioramenti su pi&#xF9; parti del sito. Arrivati a
questo punto inoltre &#xE8; stato necessario anche occuparsi di bug creati in
precedenza. E&#x2019; stato aggiunto il deploy automatico su GH Pages. Nuovi campi
centralina sono stati aggiunti. La geolocalizzaizone ora acquisisce la
posizione corrente.</p>
<section id="foodeliverables-2" class="level5" data-number="10.1.4.0.1">
<h5 data-number="10.1.4.0.1"><span
class="header-section-number">10.1.4.0.1</span> Deliverables</h5>
<ul>
<li><p>Forecast Page</p></li>
<li><p>Homepage</p></li>
<li><p>Responsiveness Fixed</p></li>
<li><p>Footer</p></li>
</ul>
</section>
</section>
<section id="foosprint-3" class="level3" data-number="10.1.5">
<h3 data-number="10.1.5"><span class="header-section-number">10.1.5</span>
Sprint 3</h3>
<p>All&#x2019;interno dello <a
href="https://github.com/orgs/Weather-Vortex/projects/5">sprint 3</a> il focus
&#xE8; stato sul creare i componenti principali rimanenti. La pagina dei feedback &#xE8;
stata modellata dal lato grafico. L&#x2019;homepage &#xE8; stata completata assieme alla
pagina di autenticazione. Sono stati aggiunti per gli sviluppatori dei codici
rappresentanti le varie condizioni meteo.</p>
<section id="foodeliverables-3" class="level5" data-number="10.1.5.0.1">
<h5 data-number="10.1.5.0.1"><span
class="header-section-number">10.1.5.0.1</span> Deliverables</h5>
<ul>
<li><p>Homepage completa</p></li>
<li><p>Leave Feedback Page</p></li>
<li><p>Autentication Page</p></li>
</ul>
</section>
</section>
<section id="foosprint-4" class="level3" data-number="10.1.6">
<h3 data-number="10.1.6"><span class="header-section-number">10.1.6</span>
Sprint 4</h3>
<p>All&#x2019;interno dello <a
href="https://github.com/orgs/Weather-Vortex/projects/6">sprint 4</a> il focus
&#xE8; stato nuovamente sulla correzione di errori e bug. Le routes sono state
inoltre rifattorizzate. Sono stati aggiunti gli alert per rendere pi&#xF9;
intuitiva la navigazione del sito.</p>
<section id="foodeliverables-4" class="level5" data-number="10.1.6.0.1">
<h5 data-number="10.1.6.0.1"><span
class="header-section-number">10.1.6.0.1</span> Deliverables</h5>
<ul>
<li><p>Refactoring</p></li>
<li><p>Bug fix</p></li>
<li><p>Alert</p></li>
</ul>
</section>
</section>
<section id="foosprint-5" class="level3" data-number="10.1.7">
<h3 data-number="10.1.7"><span class="header-section-number">10.1.7</span>
Sprint 5</h3>
<p>All&#x2019;interno dello <a
href="https://github.com/orgs/Weather-Vortex/projects/7">sprint 5</a> la mole
di lavoro &#xE8; stata notevole, essendo lo sprint finale. I feedback degli utenti
sono stati recuperati dal DB e mostrati. La route per la password dimenticata
&#xE8; stata completata. Inoltre sono state implementate le previsioni meteo dalle
stazioni. La funzionalit&#xE0; dell&#x2019;aggregazione delle previsioni &#xE8; stata
definita.</p>
<section id="foodeliverables-5" class="level5" data-number="10.1.7.0.1">
<h5 data-number="10.1.7.0.1"><span
class="header-section-number">10.1.7.0.1</span> Deliverables</h5>
<ul>
<li><p>Feedback Page</p></li>
<li><p>Forgot Password</p></li>
<li><p>IoT Forecast</p></li>
<li><p>Aggregation Forecasts</p></li>
</ul>
</section>
</section>
</section>
</section>
<section id="fooconclusioni" class="level1" data-number="11">
<h1 data-number="11"><span class="header-section-number">11</span>
Conclusioni</h1>
<section id="foocommenti-finali" class="level2" data-number="11.1">
<h2 data-number="11.1"><span class="header-section-number">11.1</span>
Commenti Finali</h2>
<section id="foodaniele-tentoni" class="level3" data-number="11.1.1">
<h3 data-number="11.1.1"><span class="header-section-number">11.1.1</span>
Daniele Tentoni</h3>
<p>Questo progetto mi ha sin da subito motivato moltissimo nel lavorare data
la sua natura intrinseca e l&#x2019;oggetto del sistema da sviluppare. Essendo scout,
ho spesso provato un certo astio nei confronti dei differenti providers di
previsioni che non si riescono mai a mettere d&#x2019;accordo e, pi&#xF9; ne vengono
consultati, pi&#xF9; le idee diventano confuse. Con questo progetto ho sperato di
creare qualcosa che io possa usare anche in futuro e che possa essere
conosciuto anche da altre persone.</p>
<p>L&#x2019;inizio dello sviluppo, in estate, &#xE8; andato bene e liscio per poi
rallentare drasticamente nel momento in cui sono rincominciate le lezioni.
Questo ha fatto calare la mia motivazione. L&#x2019;uso di tecnologie che io gi&#xE0;
conoscevo per via del mio lavoro extra universitario e di progetti personali
non ha certo aiutato a proseguire a passo spedito.</p>
<p>Penso tuttavia che questo progetto mi abbia aiutato ad avere una migliore
visione di cosa voglia dire sviluppare dei sistemi applicativi web al giorno
d&#x2019;oggi, avendo utilizzato tecnologie che vengono tutti i giorni utilizzate da
altri milioni di persone al mondo e che sono in costatnte sviluppo.</p>
<p>Il risultato finale del progetto secondo me &#xE8; buono ma non ottimo. Avrei
voluto avere pi&#xF9; tempo per poter portare a termine tutte le funzionalit&#xE0; che
avevamo avuto in mente, ma con il susseguirsi dello sviluppo, abbiamo notato
che avevamo sovrastimato il carico complessivo.</p>
</section>
<section id="foosilvia-zandoli" class="level3" data-number="11.1.2">
<h3 data-number="11.1.2"><span class="header-section-number">11.1.2</span>
Silvia Zandoli</h3>
<p>Questo progetto mi ha dato la possibilit&#xE0; di approfondire le mie conoscenze
riguardanti l&#x2019;utilizzo di NodeJs, Express e MongoDb. Tutte le tecnologie che
sono state usate erano per me completamente nuove, ma sono soddisfatta del mio
apprendimento. Ho anche compreso come con Vue si riescono a realizzare
velocemente e in modo non troppo complesso degli applicativi molto
interessanti ed user-friendly.</p>
<p>Un aspetto importante, non tanto riguardante l&#x2019;ambito dello Sviluppo Web,
che ho potuto imparare &#xE8; l&#x2019;importanza dell&#x2019;organizzazione: collaborare in
questo team mi ha incentivato ad organizzare il lavoro, e questo mi ha
insegnato un modo migliore di lavorare. A inizio progetto eravamo partiti con
in mente qualche funzionalit&#xE0; in pi&#xF9;. Poi per una questione di tempi, un
membro ha avuto qualche difficolt&#xE0; in pi&#xF9;, non sono stati realizzati. Sono
comunque soddisfatta del progetto svolto e lo ritengo un&#x2019;idea innovativa,
magari da approfondire in futuro.</p>
</section>
<section id="fooigor-lirussi" class="level3" data-number="11.1.3">
<h3 data-number="11.1.3"><span class="header-section-number">11.1.3</span>
Igor Lirussi</h3>
<p>Al termine del percorso di sviluppo del progetto ritengo di aver acquisito
una discreta moltitudine di nuove conoscenze. Sono state impiegate e integrate
diverse tecnologie e metodologie anche complesse con cui sono state affinate
parecchio le mie competenze nell&#x2019;ambito. Sicuramente c&#x2019;&#xE8; ancora spazio per
approfondire molti argomenti, ma nel complesso reputo sia servito a formare
una base di conoscenza a tutto tondo. Il lavoro di gruppo ha permesso,
infatti, di scambiarci nozioni a vicenda e ne sono pi&#xF9; che contento, seppur mi
rincresce non essere stato presente a volte come avrei voluto. Molte
tecnologie usate sono state per me una scoperte <em>in-itinere</em>, in quanto
completamente nuove. Ritengo comunque il progetto sia stato particolarmente
ambizioso e il risultato ottenuto a mio parere &#xE8; pi&#xF9; che soddisfacente.
Infine, spero questo lavoro possa rappresentare una buona base di partenza per
un eventuale sviluppo futuro.</p>
</section>
</section>
<section id="foosviluppi-futuri" class="level2" data-number="11.2">
<h2 data-number="11.2"><span class="header-section-number">11.2</span>
Sviluppi Futuri</h2>
<p>In futuro, il progetto potr&#xE0; essere migliorato nelle sue parti lasciando
spazio a nuove tecnologie e, auspicabilmente, anche ad una
commercializzazione. Le aggiunte che abbiamo individuato sono sia di natura
grafica che funzionale, ma, a causa delle tempistiche ridotte e del carico di
lavoro, sono state demandate ad un&#x2019;implementazione futura.</p>
<p>Eventualmente la parte funzionale si pu&#xF2; estendere creando nuove pagine per
l&#x2019;utente finale, con sezioni quali "notizie", "video degli utenti", "allerte
meteo". Inoltre nuove funzioni possono sempre essere aggiunte al backend per
migliorare la parte di aggregazione delle varie previsioni con machine
learning, ponderamento in base ai feedback o allo storico delle condizioni
meteo reali. Pu&#xF2; essere implementata una parte amministrativa del sito e
integrata in maniera non invasiva della pubblicit&#xE0;.</p>
<p>La parte grafica invece pu&#xF2; essere ulteriormente migliorata con animazioni
e elementi accattivanti, eventualmente che rispecchino le attuali condizioni
meteo. Inoltre mappe interattive possono aiutare l&#x2019;utente ad avere un&#x2019;idea pi&#xF9;
chiara della situazione geografica. Eventualmente anche temi personalizzati
possono essere sviluppati per rispecchiare i gusti degli utilizzatori.</p>
<p>Negli sviluppi futuri includiamo anche un interfacciamento con i social
maggiormente diffusi, oramai essenziali allo sviluppo di un business. In
questo modo si potrebbe automatizzare la creazione di post, facilitare
l&#x2019;interazione tra gli utenti, lo sviluppo di una community e l&#x2019;esposizione
della piattaforma.</p>
<p>Inoltre, come possibili spin-off sono state individuate delle aree
tematiche spesso ignorate in cui le previsioni sono necessarie, ad esempio
previsioni per lo sport, quali venti per i praticanti di parapendio o correnti
marine per i surfisti. Anche qui &#xE8; altamente necessario l&#x2019;utilizzo di device
IoT.</p>
<p>A riguardo, in futuro si potrebbe pensare ad una commercializzazione di un
device integrato "ready to use" per delle previsioni pi&#xF9; personali.</p>
<p>In conclusione in futuro il progetto offre numerose opportunit&#xE0; di
ampliamento, con interessanti prospettive sia dal lato tecnologico che dal
lato business.</p>
<div id="foorefs" class="references csl-bib-body hanging-indent"
role="doc-bibliography">
<div id="fooref-vuesimple" class="csl-entry" role="doc-biblioentry">
Alert, Vue Simple. s.d.
</div>
<div id="fooref-bcript" class="csl-entry" role="doc-biblioentry">
Bycript. s.d.
</div>
<div id="fooref-cha" class="csl-entry" role="doc-biblioentry">
ChaiJS. s.d.
</div>
<div id="fooref-parcookies" class="csl-entry" role="doc-biblioentry">
Cookie-parser. s.d.
</div>
<div id="fooref-dock" class="csl-entry" role="doc-biblioentry">
Docker. s.d.
</div>
<div id="fooref-express" class="csl-entry" role="doc-biblioentry">
Express. s.d.
</div>
<div id="fooref-vuehor" class="csl-entry" role="doc-biblioentry">
Horizontal, Vue. s.d.
</div>
<div id="fooref-mail" class="csl-entry" role="doc-biblioentry">
Mailer, Node. s.d.
</div>
<div id="fooref-mocha" class="csl-entry" role="doc-biblioentry">
MochaJs. s.d.
</div>
<div id="fooref-mongo" class="csl-entry" role="doc-biblioentry">
MongoDb. s.d.
</div>
<div id="fooref-node" class="csl-entry" role="doc-biblioentry">
NodeJs. s.d.
</div>
<div id="fooref-vuero" class="csl-entry" role="doc-biblioentry">
Router, Vue. s.d.
</div>
<div id="fooref-sinon" class="csl-entry" role="doc-biblioentry">
SinonJs. s.d.
</div>
<div id="fooref-socket" class="csl-entry" role="doc-biblioentry">
Socket.IO. s.d.
</div>
<div id="fooref-json" class="csl-entry" role="doc-biblioentry">
Token, Json Web. s.d.
</div>
<div id="fooref-vcookies" class="csl-entry" role="doc-biblioentry">
Vue-cookies. s.d.
</div>
<div id="fooref-vuetify" class="csl-entry" role="doc-biblioentry">
Vuetify. s.d.
</div>
<div id="fooref-vuex" class="csl-entry" role="doc-biblioentry">
Vuex. s.d.
</div>
<div id="fooref-suaiv" class="csl-entry" role="doc-biblioentry">
Vuex, Stop using actions in. 2021. <a
href="https://javascript.plainenglish.io/stop-using-actions-in-vuex-a14e23a7b0e6">https://javascript.plainenglish.io/stop-using-actions-in-vuex-a14e23a7b0e6</a>.
</div>
</div>
</section>
</section>                    
                </div>
            </div>

</script>
            <script src="https://vjs.zencdn.net/5.4.4/video.js"></script>
        </div>
    </body>
</html>
